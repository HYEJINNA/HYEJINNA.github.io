<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>내 블로그</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="내 블로그"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="내 블로그"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="내 블로그"><meta property="og:url" content="https://hyejinna.github.io/"><meta property="og:site_name" content="내 블로그"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://hyejinna.github.io/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://HYEJINNA.github.io"},"headline":"내 블로그","image":["https://hyejinna.github.io/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"내 블로그","logo":{"@type":"ImageObject","url":"https://hyejinna.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="내 블로그" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-08-02T00:00:00.000Z" title="2022. 8. 2. 오전 9:00:00">2022-08-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-08-02T05:09:03.476Z" title="2022. 8. 2. 오후 2:09:03">2022-08-02</time></span><span class="level-item">2 minutes read (About 246 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/08/02/220802_HTML_CSS/">220802_HTML_CSS</a></h1><div class="content"><h1 id="A-HTML"><a href="#A-HTML" class="headerlink" title="A. HTML"></a>A. HTML</h1><p> <strong>1. 새 폴더 만들기</strong> </p>
<p><img src="/images/220802_HTML_CSS/Untitled.png"></p>
<p>  <strong>2. VS code 열기</strong> </p>
<p><img src="/images/220802_HTML_CSS/Untitled%201.png"></p>
<p> <strong>3. 확장 클릭</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%202.png"></p>
<p> <strong>4. Korean Language 있는지 확인</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%203.png"></p>
<p> <strong>5. 태그 이름 한번에 변경하는 Auto Rename Tag 설치</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%204.png"></p>
<p> <strong>6. Live Server 설치</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%205.png"></p>
<p> <strong>7. index.html 파일 만들기</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%206.png"></p>
<p><strong>8.  내용 입력하고, Go live 클릭하면 하단 화면이 뜬다</strong></p>
<p><strong>(1)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%207.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%208.png"></p>
<p>(2)</p>
<p><img src="/images/220802_HTML_CSS/Untitled%209.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2010.png"></p>
<p><strong>(3)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2011.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2012.png"></p>
<p><strong>(4)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2013.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2014.png"></p>
<p><strong>(5)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2015.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2016.png"></p>
<p><strong>(6)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2017.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2018.png"></p>
<h1 id="B-CSS"><a href="#B-CSS" class="headerlink" title="B. CSS"></a>B. CSS</h1><p><strong>(1)</strong></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2019.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2020.png"></p>
<p><strong>(2) 부트스트랩 응용</strong></p>
<p><a target="_blank" rel="noopener" href="https://getbootstrap.kr/">https://getbootstrap.kr/</a></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2021.png" alt="시작하기 클릭"></p>
<p>시작하기 클릭</p>
<p><img src="/images/220802_HTML_CSS/Untitled%2022.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2023.png"></p>
<p><img src="/images/220802_HTML_CSS/Untitled%2024.png"></p>
<p>기본 템플릿이며 여러 가지 기능 복사해서 꾸미기가 가능하다</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-08-01T00:00:00.000Z" title="2022. 8. 1. 오전 9:00:00">2022-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-08-01T06:52:36.222Z" title="2022. 8. 1. 오후 3:52:36">2022-08-01</time></span><span class="level-item">7 minutes read (About 1016 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/08/01/220801_heroku/">220801_heroku</a></h1><div class="content"><h1 id="웹사이트-배포절차"><a href="#웹사이트-배포절차" class="headerlink" title="웹사이트 배포절차"></a><strong>웹사이트 배포절차</strong></h1><p><a target="_blank" rel="noopener" href="https://www.heroku.com/">https://www.heroku.com/</a> 무료배포사이트 이용</p>
<p> <strong>1.</strong> <a target="_blank" rel="noopener" href="https://www.heroku.com/">https://www.heroku.com/</a> 에서 <strong>회원가입</strong></p>
<p><img src="/images/220801_heroku/Untitled.png"></p>
<p><img src="/images/220801_heroku/Untitled%201.png"></p>
<p>  <strong>2.  window64bit 다운로드 및 설치</strong></p>
<p><img src="/images/220801_heroku/Untitled%202.png"></p>
<p>  <strong>3. 깃허브의 repo 만들기</strong> </p>
<p>주의점: 파일명에 절대 “_” 사용하면 안됨&#x2F;배포예정으로 동일 파일명 사용안됨</p>
<p><img src="/images/220801_heroku/Untitled%203.png"></p>
<p>언어는 파이썬으로 설정</p>
<p>  <strong>4.  깃허브 repo 주소 git clone하고,  VS code 열기</strong> </p>
<p><img src="/images/220801_heroku/Untitled%204.png"></p>
<p>  <strong>5. 가상 환경 설정하기</strong> </p>
<p>virtualenv venv</p>
<p>source venv&#x2F;Scripts&#x2F;activate</p>
<p><img src="/images/220801_heroku/Untitled%205.png"></p>
<p>pip install Flask gunicorn 설치</p>
<p>python.exe -m pip install –upgrade pip 업그레이드</p>
<p>  <strong>6. pip freeze &gt; requirements.txt 실행하면 왼쪽 메뉴에 파일이 생성된다</strong></p>
<p><img src="/images/220801_heroku/Untitled%206.png"></p>
<p>   <strong>7.  <a target="_blank" rel="noopener" href="http://app.py/">app.py</a> 파일 만들기</strong></p>
<p><img src="/images/220801_heroku/Untitled%207.png"></p>
<p>  <strong>8. <a target="_blank" rel="noopener" href="http://app.py/">app.py</a> 파일에 내용 입력 후 “저장”</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/220801_heroku/Untitled%208.png"></p>
<p><strong>하단 순서대로 실행</strong></p>
<p>export FLASK_APP&#x3D;app</p>
<p>export FLASK_ENV&#x3D;development</p>
<p>flask run</p>
<p>  <strong>9. <a target="_blank" rel="noopener" href="http://app.py/">app.py</a> 에 하단 내용 추가후 저장</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(port=<span class="number">5000</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/images/220801_heroku/Untitled%209.png"></p>
<p>  <strong>10.   Procfile  만들고 내용 입력</strong></p>
<p><img src="/images/220801_heroku/Untitled%2010.png"></p>
<p>web: gunicorn wsgi:app</p>
<p><img src="/images/220801_heroku/Untitled%2011.png"></p>
<p>  <strong>11.  <a target="_blank" rel="noopener" href="http://wsqi.py/">wsqi.py</a> 파일 만들고, 하단 내용 입력</strong></p>
<p><img src="/images/220801_heroku/Untitled%2012.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> app <span class="keyword">import</span> app</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>

<p><img src="/images/220801_heroku/Untitled%2013.png"></p>
<p>python -V 실행시 </p>
<p>Python 3.9.12로 확인됨</p>
<p>  <strong>12. runtime.txt 파일 만들기</strong></p>
<p><img src="/images/220801_heroku/Untitled%2014.png"></p>
<p>python-3.9.12 입력 </p>
<p><img src="/images/220801_heroku/Untitled%2015.png"></p>
<p>  <strong>13. 터미널에서 flask run 다시 해보고, 창 띄워지는지 확인</strong> </p>
<p><img src="/images/220801_heroku/Untitled%2016.png"></p>
<p><img src="/images/220801_heroku/Untitled%2017.png"></p>
<p>  <strong>14. git 블로그에 업데이트</strong></p>
<p>git add .</p>
<p>git commit -m “ update”</p>
<p>git push</p>
<p><img src="/images/220801_heroku/Untitled%2018.png"></p>
<p>업데이트 되었는지 확인</p>
<p><img src="/images/220801_heroku/Untitled%2019.png"></p>
<p> <strong>15. heroku 로그인하기</strong> </p>
<p><img src="/images/220801_heroku/Untitled%2020.png"></p>
<p>key를 입력하라고 하면, 아무것이나 입력</p>
<p><img src="/images/220801_heroku/Untitled%2021.png"></p>
<p>로그인하기 </p>
<p>“확인방법등록”은 그냥 무시하고 <strong>취소</strong> 클릭</p>
<p><img src="/images/220801_heroku/Untitled%2022.png"></p>
<p><strong>heroku create heroku-human-ujhjlove 실행</strong></p>
<p><img src="/images/220801_heroku/Untitled%2023.png"></p>
<p><img src="/images/220801_heroku/Untitled%2024.png"></p>
<p><strong>git push heroku main 실행</strong></p>
<p>맨 하단에 에러 발생 </p>
<p>To <a target="_blank" rel="noopener" href="https://git.heroku.com/heroku-human-ujhjlove.git">https://git.heroku.com/heroku-human-ujhjlove.git</a><br>! [remote rejected] main -&gt; main (pre-receive hook declined)<br>error: failed to push some refs to ‘<a target="_blank" rel="noopener" href="https://git.heroku.com/heroku-human-ujhjlove.git">https://git.heroku.com/heroku-human-ujhjlove.git</a>‘<br>(venv)</p>
<p>(git clon 으로 가져왔지만) haroku에서는 많은 repo중에 어느 repo 인지 모르겠다는 의미</p>
<p><img src="/images/220801_heroku/Untitled%2025.png"></p>
<p><strong>heroku git:remote -a heroku-human-ujhjlove</strong> 로 연결해주고 </p>
<p>(표시한 자리에 이 명령이 있었음)</p>
<p>참고화면</p>
<p><img src="/images/220801_heroku/Untitled%2026.png"></p>
<p>위 명령 실행 후 다시 배포 시도 </p>
<p>git add .</p>
<p>git commit -m “ update”</p>
<p>git push origin main</p>
<p><strong>git push heroku main 재 실행하면 정상적으로 실행된다</strong></p>
<h1 id="사이트-업그레이드"><a href="#사이트-업그레이드" class="headerlink" title="사이트 업그레이드"></a>사이트 업그레이드</h1><p>배포가 완료되면 다른 내용은 건드릴 필요 없이 <strong>app.py에서만</strong> 업그레이드 하면 된다</p>
<p>  <strong>1. templates 폴더 만들고, index.html 파일을 만들어서</strong> </p>
<p><img src="/images/220801_heroku/Untitled%2027.png"></p>
<p>하단 내용 입력 후 <strong>저장</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;FlaskBlog&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;h1&gt;aaaaa&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>순서대로 실행 </p>
<p>flask run</p>
<p>git add .</p>
<p>git commit -m “ update”</p>
<p>git push origin main</p>
<p><strong>git push heroku main</strong> </p>
<p>지금까지는 html 뼈대를 만든 것임</p>
<p>  <strong>2. app.py파일에서 render_template 추가</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;index.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(port=<span class="number">5000</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/images/220801_heroku/Untitled%2028.png"></p>
<p> <strong>3.  staticv폴더 생성 후 css 폴더생성</strong>  (또는 staticv\css로 폴더생성)</p>
<p>그 안에 다시 #style.css 파일 만들어서 하단 내용입력 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">h1 &#123;</span><br><span class="line">    border: 2px #eee solid;</span><br><span class="line">    color: brown;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/220801_heroku/Untitled%2029.png"></p>
<p> index.html 파일에 내용 추가후 저장</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;&#123;&#123; url_for('static', filename= 'css/style.css') &#125;&#125;&quot;&gt;</code></p>
<p><img src="/images/220801_heroku/Untitled%2030.png"></p>
<p>flask run</p>
<p>  <strong>4.</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;update&quot;</span><br><span class="line">git push origin main</span><br><span class="line">git push heroku main</span><br></pre></td></tr></table></figure>

<p>배포 및 업데이트 완료</p>
<p><img src="/images/220801_heroku/Untitled%2031.png"></p>
<p><a target="_blank" rel="noopener" href="https://heroku-human-ujhjlove.herokuapp.com/">https://heroku-human-ujhjlove.herokuapp.com</a> 클릭하면 업데이트 내용 확인된다</p>
<p><img src="/images/220801_heroku/Untitled%2032.png"></p>
<p>더욱 자세한 공부는 하단사이트에서 </p>
<p><a target="_blank" rel="noopener" href="https://wikidocs.net/book/4542">https://wikidocs.net/book/4542</a></p>
<p><strong>방금까지 만든 것 Setting에서 “삭제하고 새로 설치 후 배포”를 반복하며 공부하기</strong> </p>
<p><img src="/images/220801_heroku/Untitled%2033.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-29T00:00:00.000Z" title="2022. 7. 29. 오전 9:00:00">2022-07-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-29T07:52:57.709Z" title="2022. 7. 29. 오후 4:52:57">2022-07-29</time></span><span class="level-item">a minute read (About 182 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/29/0729_spark/">220729 스파크를 이용한 데이터공학</a></h1><div class="content"><p>p 279</p>
<p>개발할때는 ubuntu로 시작하여 VS code로 들어가서 개발하면 좋음</p>
<p><img src="/images/0729_spark/Untitled.png"></p>
<ol>
<li><strong>해당 파일로 이동</strong></li>
</ol>
<p><img src="/images/0729_spark/Untitled%201.png"></p>
<ol start="2">
<li><strong>데이터 가져오기</strong></li>
</ol>
<blockquote>
<p>cp -r data.csv ..&#x2F;..&#x2F;chapter14&#x2F;</p>
</blockquote>
<p><img src="/images/0729_spark/Untitled%202.png"></p>
<p>왼쪽에 data.csv 파일이 확인됨</p>
<p>  <strong>3.</strong> 기존에 설치했던  pyspark 먼저 삭제하고 </p>
<blockquote>
<p>pip uninstall pyspark </p>
</blockquote>
<p>다시 설치 </p>
<blockquote>
<p>pip install pyspark&#x3D;&#x3D;3.2.0</p>
</blockquote>
<p>*참고: 어느 가상환경에 있는지 확인할때 </p>
<blockquote>
<p>which python3</p>
</blockquote>
<p><img src="/images/0729_spark/Untitled%203.png"></p>
<p>*설치된 부분 확인시 </p>
<p><img src="/images/0729_spark/Untitled%204.png"></p>
<p>  <strong>4. 주피터 노트북으로 이동해서 데이터 작업</strong></p>
<blockquote>
<p>jupyter notebook </p>
</blockquote>
<p>하단의 오류는 신경쓰지 말기 </p>
<p>출력된 링크를 통해 주피터 노트북으로 접속</p>
<p><img src="/images/0729_spark/Untitled%205.png"></p>
<p><img src="/images/0729_spark/Untitled%206.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-28T00:00:00.000Z" title="2022. 7. 28. 오전 9:00:00">2022-07-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-29T08:16:01.643Z" title="2022. 7. 29. 오후 5:16:01">2022-07-29</time></span><span class="level-item">6 minutes read (About 876 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/28/0728_Apache%20Airflow/">0728 Apache Airflow</a></h1><div class="content"><p>Apache Airflow <strong>데이터 파이프라인 구축</strong> </p>
<h2 id="Apache-Airflow"><a href="#Apache-Airflow" class="headerlink" title="Apache Airflow ?"></a>Apache Airflow <strong>?</strong></h2><p>Apache Airflow is an open source platform to <strong>programmatically author, schedule, and monitor</strong></p>
<p>workflows.  </p>
<p>Apache Airflow는 <strong>프로그래밍 방식으로 워크플로우를 작성, 예약 및 모니터링</strong>하는 오픈 소스 플랫폼이다.  이 작업은 실시간 데이터 처리이며, 현업에서 많이 쓰고 있다.</p>
<p>   1. </p>
<blockquote>
<p>pip3 install faker pandas 설치</p>
</blockquote>
<p><img src="/images/0728_ApacheAirflow/Untitled.png"></p>
<p>설치 완료 후 VS code로 </p>
<blockquote>
<p><strong>code .</strong></p>
</blockquote>
<pre><code>2. 먼저 가상환경에 들어가기 
</code></pre>
<p>human@DESKTOP-8BF1BS3:~&#x2F;airflow$ source venv&#x2F;bin&#x2F;activate</p>
<ol start="3">
<li>파이썬 파일 만들고, 내용 입력 후 실행 결과 확인</li>
</ol>
<p><img src="/images/0728_ApacheAirflow/Untitled%201.png"></p>
<ol start="4">
<li><strong>Ubuntu</strong> 열어서 airflowr파일이 있는 경로 찾고  <strong>VS code</strong>로 들어가기</li>
</ol>
<p><img src="/images/0728_ApacheAirflow/Untitled%202.png"></p>
<p><img src="/images/0728_ApacheAirflow/Untitled%203.png"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/PacktPublishing/Data-Engineering-with-Python">https://github.com/PacktPublishing/Data-Engineering-with-Python</a></p>
<p>너무 긴 코드는 참고하기  </p>
<pre><code>5.
</code></pre>
<p><strong>1) read_df.py 파일 만들고 실행</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.csv&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        myreader = csv.DictReader(f)</span><br><span class="line">        headers = <span class="built_in">next</span>(myreader)</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> myreader:</span><br><span class="line">            <span class="built_in">print</span>(row[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p><img src="/images/0728_ApacheAirflow/Untitled%204.png"></p>
<p> <strong>2) write_df.py 파일 만들고  실행</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">import</span> csv </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    output = <span class="built_in">open</span>(<span class="string">&#x27;data.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    fake = Faker()</span><br><span class="line">    header = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;street&#x27;</span>, <span class="string">&#x27;city&#x27;</span>, <span class="string">&#x27;state&#x27;</span>, <span class="string">&#x27;zip&#x27;</span>, <span class="string">&#x27;lng&#x27;</span>, <span class="string">&#x27;lat&#x27;</span>]</span><br><span class="line">    mywriter = csv.writer(output)</span><br><span class="line">    mywriter.writerow(header)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        mywriter.writerow([fake.name(),fake.random_int(<span class="built_in">min</span>=<span class="number">18</span>, <span class="built_in">max</span>=<span class="number">80</span>, step=<span class="number">1</span>), </span><br><span class="line">        fake.street_address(), fake.city(),fake.state(),fake.zipcode(),fake.longitude(),</span><br><span class="line">        fake.latitude()])</span><br><span class="line">    output.close()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p><img src="/images/0728_ApacheAirflow/Untitled%205.png"></p>
<p>왼쪽 탐색기 쪽에 <strong>data.csv</strong> 파일이 출력되었다</p>
<p><a target="_blank" rel="noopener" href="https://github.com/PacktPublishing/Data-Engineering-with-Python">https://github.com/PacktPublishing/Data-Engineering-with-Python</a></p>
<p>너무 긴 코드는 참고하기  </p>
<p>   <strong>3) write_json.py 파일 만들고</strong>  <strong>실행</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    output = <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    fake = Faker()</span><br><span class="line">    alldata = &#123;&#125;</span><br><span class="line">    alldata[<span class="string">&#x27;records&#x27;</span>]=[]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        data=&#123;<span class="string">&quot;name&quot;</span>:fake.name(),<span class="string">&quot;age&quot;</span>:fake.random_int(<span class="built_in">min</span>=<span class="number">18</span>, <span class="built_in">max</span>=<span class="number">80</span>, step=<span class="number">1</span>),<span class="string">&quot;street&quot;</span>:fake.street_address(),<span class="string">&quot;city&quot;</span>:fake.city(),<span class="string">&quot;state&quot;</span>:fake.state(),<span class="string">&quot;zip&quot;</span>:fake.zipcode(),<span class="string">&quot;lng&quot;</span>:<span class="built_in">float</span>(fake.longitude()),<span class="string">&quot;lat&quot;</span>:<span class="built_in">float</span>(fake.latitude())&#125;</span><br><span class="line">        alldata[<span class="string">&#x27;records&#x27;</span>].append(data)</span><br><span class="line"></span><br><span class="line">    json.dump(alldata,output)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p><img src="/images/0728_ApacheAirflow/Untitled%206.png"></p>
<p>왼쪽 탐색기 쪽에 <strong>data.json</strong> 파일이 출력되었다 </p>
<pre><code>**4) read_json.py 파일 만들고  실행** 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json </span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> pandas.io.json <span class="keyword">as</span> pd_JSON</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_json</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data = json.load(f)</span><br><span class="line">        </span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(data))</span><br><span class="line">    <span class="built_in">print</span>(data[<span class="string">&#x27;records&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_pandas</span>():</span><br><span class="line">    df = pd.read_json(<span class="string">&#x27;data.json&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;기본 방법은 조금 복잡해요! :\n&quot;</span>, df.head())</span><br><span class="line"></span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    data = pd_JSON.loads(f.read())</span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    df = pd.json_normalize(data, record_path=<span class="string">&#x27;records&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;다른 방법도 복잡해요 :\n&quot;</span>, df.head())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># read_json()</span></span><br><span class="line">    read_pandas()</span><br></pre></td></tr></table></figure>

<p><img src="/images/0728_ApacheAirflow/Untitled%207.png"></p>
<p>p51</p>
<p>본격적으로 아파치 에어플로 데이터 파이프라인 구축 해보자 </p>
<pre><code>6. 코딩 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> airflow <span class="keyword">import</span> DAG</span><br><span class="line"><span class="keyword">from</span> airflow.operators.bash <span class="keyword">import</span> BashOperator</span><br><span class="line"><span class="keyword">from</span> airflow.operators.python <span class="keyword">import</span> PythonOperator</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">csvToJson</span>():</span><br><span class="line">    df=pd.read_csv(<span class="string">&#x27;data.csv&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i,r <span class="keyword">in</span> df.iterrows():</span><br><span class="line">        <span class="built_in">print</span>(r[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">    df.to_json(<span class="string">&#x27;fromAirflow.json&#x27;</span>,orient=<span class="string">&#x27;records&#x27;</span>)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">default_args = &#123;</span><br><span class="line">    <span class="string">&#x27;owner&#x27;</span>: <span class="string">&#x27;evan&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;start_date&#x27;</span>: dt.datetime(<span class="number">2022</span>, <span class="number">7</span>, <span class="number">27</span>),</span><br><span class="line">    <span class="string">&#x27;retries&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;retry_delay&#x27;</span>: dt.timedelta(minutes=<span class="number">1</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> DAG(<span class="string">&#x27;MyCSVDAG&#x27;</span>,</span><br><span class="line">         default_args=default_args,</span><br><span class="line">         schedule_interval=timedelta(minutes=<span class="number">1</span>),      <span class="comment"># &#x27;0 * * * *&#x27;,</span></span><br><span class="line">         ) <span class="keyword">as</span> dag:</span><br><span class="line"></span><br><span class="line">    print_starting = BashOperator(task_id=<span class="string">&#x27;starting&#x27;</span>,</span><br><span class="line">                               bash_command=<span class="string">&#x27;echo &quot;I am reading the CSV now.....&quot;&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    csvJson = PythonOperator(task_id=<span class="string">&#x27;convertCSVtoJson&#x27;</span>,</span><br><span class="line">                                 python_callable=csvToJson)</span><br><span class="line"></span><br><span class="line">print_starting &gt;&gt; csvJson</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong>airflow.cgf</strong> 에서 52번째 load_examples &#x3D; True 에서 True 를 False로 변경</li>
</ol>
<p><img src="/images/0728_ApacheAirflow/Untitled%208.png"></p>
<p>   8. </p>
<p>그 다음 하단 순서대로 입력 후 실행  </p>
<blockquote>
<p><strong>airflow db reset</strong></p>
</blockquote>
<blockquote>
<p><strong>airflow db dbinit</strong> </p>
</blockquote>
<blockquote>
<p><strong>airflow webserver  -p 8081</strong></p>
</blockquote>
<blockquote>
<p><strong>airflow scheduler</strong>  실행하면  ****</p>
</blockquote>
<p><img src="/images/0728_ApacheAirflow/Untitled%209.png"></p>
<p>에어플로 GUI를 열면 방금 만든 <strong>MyCSVDAG</strong>가 생성되어 있다</p>
<p><img src="/images/0728_ApacheAirflow/Untitled%2010.png"></p>
<p><img src="/images/0728_ApacheAirflow/Untitled%2011.png"></p>
<p>코드도 보인다 </p>
<p><img src="/images/0728_ApacheAirflow/Untitled%2012.png"></p>
<p>참고자료 :</p>
<p><strong><a target="_blank" rel="noopener" href="https://dschloe.github.io/python/data_engineering/ch03_reading_writing_file/airflow_csv2json_sample/">Airflow 데이터 파이프라인 구축 예제</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://dschloe.github.io/python/data_engineering/ch03_reading_writing_file/airflow_csv2json_sample/">https://dschloe.github.io/python/data_engineering&#x2F;ch03_reading_writing_file&#x2F;airflow_csv2json_sample&#x2F;</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-27T00:00:00.000Z" title="2022. 7. 27. 오전 9:00:00">2022-07-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-28T08:35:00.767Z" title="2022. 7. 28. 오후 5:35:00">2022-07-28</time></span><span class="level-item">5 minutes read (About 787 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/27/220727%20WSL(ubuntu)/">WSL(ubuntu)셋팅</a></h1><div class="content"><p><strong>실무예제로 배우는 데이터 공학교재</strong></p>
<p>카프카 - 개발자</p>
<p>에어플로 - 머신러닝 학습자</p>
<p>다음주는 웹사이트 만들고 배포하는 방법을 배울 예정</p>
<ol>
<li>PC정보 확인</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%201.png"></p>
<p>버전 21H2으로 확인 </p>
<p>너무 낮으면 안됨</p>
<ol start="2">
<li>Power Shell  관리자 권한으로 실행하고</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%202.png"></p>
<p><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</code></p>
<p>복사 붙여넣기 </p>
<p><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</code></p>
<p>복사 붙여넣기 </p>
<p><img src="/images/0727WSL_setting/Untitled%203.png"></p>
<p><code>[https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)</code> 다운로드</p>
<p><img src="/images/0727WSL_setting/Untitled%204.png"></p>
<p>ok &gt; finish</p>
<ol start="3">
<li><strong>Microsoft Store</strong> 로 이동하여  <strong>Ubuntu 20.04.4 LTS</strong> 다운로드</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%205.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%206.png"></p>
<p>Ubuntu 20.04.4 LTS 는 작업이 설정이 꼬여서 리셋해야 할때 도움이 많이된다. </p>
<p>윈도우에서는 오래걸리는데, WSL에서 하면 빠르다. </p>
<p>계속 날리고 새로 세팅하면서 배우는 것이다. </p>
<p><img src="/images/0727WSL_setting/Untitled%207.png"></p>
<p>아이디, 비번 누르는 화면이 확인안됨</p>
<ol start="4">
<li>따라서 먼저 가상환경 설정해야 한다</li>
</ol>
<p>다시 powershell 관리자 권한으로 이동</p>
<p><img src="/images/0727WSL_setting/Untitled%208.png"></p>
<p><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All</code></p>
<p><img src="/images/0727WSL_setting/Untitled%209.png"></p>
<p>확인하면 여전히 에러있음</p>
<ol start="5">
<li><strong>윈도우즈 기능 켜기&#x2F;끄기</strong> 접속하여, <strong>WINDOWS</strong> <strong>하이퍼바이저 플랫폼</strong> 클릭 후 확인</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2010.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%2011.png"></p>
<p>누르고 재부팅</p>
<ol start="6">
<li>Windows PowerShell 로 다시 접속 &#x2F; 관리자권한실행</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2012.png"></p>
<blockquote>
<p><code>wsl --set-default-version 2</code> </p>
</blockquote>
<p><code>으로 버전</code> 세팅</p>
<p><img src="/images/0727WSL_setting/Untitled%2013.png"></p>
<ol start="7">
<li><strong>Ubuntu</strong> 다시 접속</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2014.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%2015.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%2016.png"></p>
<p>임의로 아이디 human , 비번 1234 (누를때 안보임)</p>
<p>현재 윈도우  LTS 버전에 접속한 상태임</p>
<p><img src="/images/0727WSL_setting/Untitled%2017.png"></p>
<p>하지만 <strong>버전 2</strong>로 확인되어야 한다</p>
<p><code>wsl --set-default-version 2</code> 입력하여 버전2로 다시 세팅시도 </p>
<p>그래도 안되면 </p>
<p><img src="/images/0727WSL_setting/Untitled%2018.png"></p>
<p>다시 설치 </p>
<p>그래도 버전1인 상태..</p>
<ol start="8">
<li>위 작업을 모두 시도 했는데도, 버전2로 확인이  안되면</li>
</ol>
<p><strong>Ubuntu 20.04.4 LTS 제거하고 다시 다운로드</strong></p>
<p> 그후 windows powershell에서 버전확인(wsl -l -v 입력)하면 버전2로 바뀜</p>
<p><img src="/images/0727WSL_setting/Untitled%2019.png"></p>
<p>준비완료 </p>
<h1 id="VS-code와-WSL-연동작업"><a href="#VS-code와-WSL-연동작업" class="headerlink" title="VS code와 WSL 연동작업"></a><strong>VS code와 WSL 연동작업</strong></h1><ol start="9">
<li>시스템 환경 변수 편집으로 접속</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2020.png"></p>
<p><img src="/images/0727WSL_setting/Untitled%2021.png"></p>
<p><strong>환경변수</strong> 클릭</p>
<p><img src="/images/0727WSL_setting/Untitled%2022.png"></p>
<p><strong>path</strong> &gt; <strong>편집</strong></p>
<p><img src="/images/0727WSL_setting/Untitled%2023.png"></p>
<p><strong>Microsoft VS code</strong>가 있는지 확인</p>
<p>있으면 연동작업가능</p>
<p>** 메모장</p>
<p>앞으로 환경변수편집을 많이 사용하게 될 것임</p>
<p>현재 빅데이터 플랫폼, 웹사이트 구축 구축작업을 하고 있는 것임</p>
<p>— Configuration &#x2F;&#x2F; 각 설치 프로그램들끼리 환경 변수로 유기적으로 연결시킴</p>
<p>— 레고 블록</p>
<ol start="10">
<li><strong>VS code</strong> 들어가서 <strong>Remote - WSL</strong> 설치하기</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2024.png"></p>
<ol start="11">
<li><strong>VS code</strong> 창 닫고 , 다시 열면 터미널에 <strong>WSL</strong> 확인됨</li>
</ol>
<p><img src="/images/0727WSL_setting/Untitled%2025.png"></p>
<p><a target="_blank" rel="noopener" href="https://www.notion.so/220727-656bffb2247148cb8bf781924c421d5f">220727 가상환경설치</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-27T00:00:00.000Z" title="2022. 7. 27. 오전 9:00:00">2022-07-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-28T04:47:30.517Z" title="2022. 7. 28. 오후 1:47:30">2022-07-28</time></span><span class="level-item">3 minutes read (About 383 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/27/220727%20env/">가상환경설치</a></h1><div class="content"><ol>
<li>C드라이브에 새폴더 만들기</li>
</ol>
<p><img src="/images/0727_env/Untitled.png"></p>
<ol start="2">
<li>WSL 접속</li>
</ol>
<p><img src="/images/0727_env/Untitled%201.png"></p>
<p>추후 리눅스 기본 명령어 공부하기</p>
<p>   3. </p>
<p><img src="/images/0727_env/Untitled%202.png"></p>
<p>code . 입력&#x2F;실행하여 VS code로 접속</p>
<ol start="4">
<li>터미널 열면 기존에 보던 화면과 조금 다름</li>
</ol>
<p><img src="/images/0727_env/Untitled%203.png"></p>
<p><strong>본격적으로 가상환경 설치</strong></p>
<p>   5. </p>
<blockquote>
<p>sudo apt install python3-pip</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%204.png"></p>
<p>에러있다면 </p>
<p>  6. </p>
<blockquote>
<p>sudo apt-get update</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%205.png"></p>
<p>실행 완료 후 다시 입력하고 실행하면 잘된다hexo</p>
<p>다시 하단 명령 입력 </p>
<blockquote>
<p>sudo apt install python3-pip</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%206.png"></p>
<p>설치 완료 되면  </p>
<p>  7. </p>
<blockquote>
<p>sudo pip3 install virtualenv</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%207.png"></p>
<p>  8. </p>
<blockquote>
<p>virtualenv venv</p>
</blockquote>
<blockquote>
<p>source venv&#x2F;bin&#x2F;activate</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%208.png"></p>
<ol start="9">
<li><strong>환경변수 설정</strong></li>
</ol>
<blockquote>
<p>pwd 로 현재경로 확인</p>
</blockquote>
<p>&#x2F;mnt&#x2F;c&#x2F;dataEngineering 기억하기</p>
<p><img src="/images/0727_env/Untitled%209.png"></p>
<p>*평상시에 vi편집기 연습 많이 할 것 </p>
<p>  10. </p>
<blockquote>
<p><strong>vi ~&#x2F;.bashrc</strong></p>
</blockquote>
<p><img src="/images/0727_env/Untitled%2010.png"></p>
<p>맨 하단에 가서  <strong>i 누르고</strong> <strong>키보드로</strong> 공란가서 엔터 (마우스로는 안됨)</p>
<p>  11. </p>
<p>“# 환경변수설정” </p>
<p>export AIRFLOW_HOME&#x3D;&#x2F;mnt&#x2F;c&#x2F;dataEngineering</p>
<p>입력하기  &#x2F; 참고) 입력한 사항을 지우려면 d 두번 누르면 없어짐</p>
<p><img src="/images/0727_env/Untitled%2011.png"></p>
<p>  12. </p>
<p>esc 누르면 나간다  +  “- - INSERT - -” 없어짐</p>
<p><img src="/images/0727_env/Untitled%2012.png"></p>
<p>그다음 shift 세미콜론 하고</p>
<p><strong>:wq!</strong> 입력&gt; 엔터 (<strong>저장하고 나가기</strong> )</p>
<p>참고) <strong>:q!</strong> 입력&gt; 엔터 하면 <strong>저장 안하고 나가기</strong> </p>
<ol start="13">
<li></li>
</ol>
<blockquote>
<p><strong>source ~&#x2F;.bashrc</strong> 하면 <strong>반영</strong>됨</p>
</blockquote>
<p>실제 반영되었는지 확인하려면 </p>
<blockquote>
<p>echo $AIRFLOW_HOME 실행하면 경로확인됨</p>
</blockquote>
<p><img src="/images/0727_env/Untitled%2013.png"></p>
<p>가상환경 설치완료됨</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-27T00:00:00.000Z" title="2022. 7. 27. 오전 9:00:00">2022-07-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-28T08:28:37.851Z" title="2022. 7. 28. 오후 5:28:37">2022-07-28</time></span><span class="level-item">2 minutes read (About 228 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/27/0727%20pkg%20set/">패키지 설치</a></h1><div class="content"><pre><code>1. 먼저 VS code에서 가상환경에 접속하고
</code></pre>
<blockquote>
<p>source venv&#x2F;bin&#x2F;activate</p>
</blockquote>
<h1 id="아파치-에어플로-설치하기"><a href="#아파치-에어플로-설치하기" class="headerlink" title="아파치 에어플로 설치하기"></a><strong>아파치 에어플로 설치하기</strong></h1><p>p25</p>
<pre><code> 2. 아파치 에어플로를 설치하는 명령 입력후 엔터
</code></pre>
<blockquote>
<p>pip3 install ‘apache-airflow[postgres,slack,celery]’</p>
</blockquote>
<p>시간이 조금 소요됨</p>
<p>![](images&#x2F;0727 pkg set&#x2F;Untitled.png)</p>
<pre><code>   3. 
</code></pre>
<blockquote>
<p>airflow db init 명령으로 데이터 베이스를 초기화한다</p>
</blockquote>
<p>![](images&#x2F;0727 pkg set&#x2F;Untitled%201.png)</p>
<pre><code>4. 1
</code></pre>
<blockquote>
<p>airflow webserver </p>
</blockquote>
<p>만 입력하면 기본포트 8080으로 실행된다</p>
<p>![](images&#x2F;0727 pkg set&#x2F;Untitled%202.png)</p>
<p>참고)  &gt;airflow webserver -p 8081 로 진입할수도 있음</p>
<p>커서가 안보일때</p>
<p>cltr+c 하면 입력할 수 있도록 커서 나옴</p>
<ol start="4">
<li>2</li>
</ol>
<blockquote>
<p><code>airflow users create --username airflow --password airflow --firstname evan --lastname airflow --role Admin --email your_email@some.com</code> 입력 후 엔터</p>
</blockquote>
<blockquote>
<p>airflow webserver -p 8081 로 다시 실행하고</p>
</blockquote>
<p>웹 주소창에  <a target="_blank" rel="noopener" href="http://localhost:8081/">http://localhost:8081/</a>에 접속하면 에어플로의 GUI를 볼 수 있다</p>
<p>![](images&#x2F;0727 pkg set&#x2F;Untitled%203.png)</p>
<p>아이디airflow , 비번 airflow</p>
<p>![](images&#x2F;0727 pkg set&#x2F;Untitled%204.png)</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-14T00:00:00.000Z" title="2022. 7. 14. 오전 9:00:00">2022-07-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-22T12:01:37.492Z" title="2022. 7. 22. 오후 9:01:37">2022-07-22</time></span><span class="level-item">4 minutes read (About 643 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/14/0220714/">seborn 라이브러리</a></h1><div class="content"><h2 id="Visualizing-statistical-relationships"><a href="#Visualizing-statistical-relationships" class="headerlink" title="Visualizing statistical relationships"></a>Visualizing statistical relationships</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.set_theme(style=<span class="string">&quot;darkgrid&quot;</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Relating variables with scatter plots</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_4_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>,y=<span class="string">&quot;tip&quot;</span>,hue=<span class="string">&quot;smoker&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7efce42f6590&gt;
</code></pre>
<p><img src="/images/0714/output_5_1.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>,y=<span class="string">&quot;tip&quot;</span>,hue=<span class="string">&quot;smoker&quot;</span>,style=<span class="string">&quot;smoker&quot;</span>,</span><br><span class="line">            data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_6_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>,y=<span class="string">&quot;tip&quot;</span>,hue=<span class="string">&quot;smoker&quot;</span>,style=<span class="string">&quot;time&quot;</span>,data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_7_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;size&quot;</span>, data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_8_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;size&quot;</span>, palette=<span class="string">&quot;ch:r=-.5, l=.75&quot;</span>, data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_9_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, size=<span class="string">&quot;size&quot;</span>, data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_10_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>,y=<span class="string">&quot;tip&quot;</span>, size=<span class="string">&quot;size&quot;</span>, sizes=(<span class="number">12</span>,<span class="number">200</span>), data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_11_0.png"></p>
<h2 id="Emphasizing-continuity-with-line-plots"><a href="#Emphasizing-continuity-with-line-plots" class="headerlink" title="Emphasizing continuity with line plots"></a>Emphasizing continuity with line plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(<span class="built_in">dict</span>(time=np.arange(<span class="number">500</span>),</span><br><span class="line">                       value=np.random.randn(<span class="number">500</span>).cumsum()))</span><br><span class="line">g = sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;value&quot;</span>, kind=<span class="string">&quot;line&quot;</span>, data=df)</span><br><span class="line">g.figure.autofmt_xdate()</span><br><span class="line">                </span><br><span class="line">                </span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_13_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">500</span>,<span class="number">2</span>).cumsum(axis=<span class="number">0</span>), columns=[<span class="string">&quot;x&quot;</span>,<span class="string">&quot;y&quot;</span>])</span><br><span class="line">sns.relplot(x=<span class="string">&quot;x&quot;</span>, y=<span class="string">&quot;y&quot;</span>, sort=<span class="literal">False</span>, kind=<span class="string">&quot;line&quot;</span>, data=df);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_14_0.png"></p>
<h2 id="Aggregation-and-representing-uncertainty"><a href="#Aggregation-and-representing-uncertainty" class="headerlink" title="Aggregation and representing uncertainty"></a>Aggregation and representing uncertainty</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmri = sns.load_dataset(<span class="string">&quot;fmri&quot;</span>)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_16_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, ci=<span class="literal">None</span>, kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_17_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, kind=<span class="string">&quot;line&quot;</span>, ci=<span class="string">&quot;sd&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_18_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, estimator=<span class="literal">None</span>, kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_19_0.png"></p>
<h2 id="Plotting-subsets-of-data-with-semantic-mappings"><a href="#Plotting-subsets-of-data-with-semantic-mappings" class="headerlink" title="Plotting subsets of data with semantic mappings"></a>Plotting subsets of data with semantic mappings</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;event&quot;</span>, kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_21_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>, style=<span class="string">&quot;event&quot;</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_22_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>, style=<span class="string">&quot;event&quot;</span>,</span><br><span class="line">            dashes=<span class="literal">False</span>, markers=<span class="literal">True</span>, kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_23_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;event&quot;</span>, style=<span class="string">&quot;event&quot;</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_24_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>,</span><br><span class="line">           units=<span class="string">&quot;subject&quot;</span>, estimator=<span class="literal">None</span>,</span><br><span class="line">           kind=<span class="string">&quot;line&quot;</span>, data=fmri.query(<span class="string">&quot;event==&#x27;stim&#x27;&quot;</span>));</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_25_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dots = sns.load_dataset(<span class="string">&quot;dots&quot;</span>).query(<span class="string">&quot;align==&#x27;dots&#x27;&quot;</span>)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=dots);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_26_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">palette = sns.cubehelix_palette(light=<span class="number">.8</span>, n_colors=<span class="number">6</span>)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">            palette=palette,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=dots);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_27_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> LogNorm</span><br><span class="line">palette = sns.cubehelix_palette(light=<span class="number">.7</span>, n_colors=<span class="number">6</span>)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">            hue_norm=LogNorm(),</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>,</span><br><span class="line">            data=dots.query(<span class="string">&quot;coherence &gt; 0&quot;</span>));</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_28_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>,</span><br><span class="line">            size=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=dots);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_29_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;coherence&quot;</span>, size=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">            palette=palette,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=dots);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_30_0.png"></p>
<h2 id="Plotting-with-date-data"><a href="#Plotting-with-date-data" class="headerlink" title="Plotting with date data"></a>Plotting with date data</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(<span class="built_in">dict</span>(time=pd.date_range(<span class="string">&quot;2017-1-1&quot;</span>, periods=<span class="number">500</span>),</span><br><span class="line">                       value=np.random.randn(<span class="number">500</span>).cumsum()))</span><br><span class="line">g= sns.relplot(x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;value&quot;</span>, kind=<span class="string">&quot;line&quot;</span>, data=df)</span><br><span class="line">g.figure.autofmt_xdate()</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_32_0.png"></p>
<h2 id="Showing-multiple-relationships-with-facets"><a href="#Showing-multiple-relationships-with-facets" class="headerlink" title="Showing multiple relationships with facets"></a>Showing multiple relationships with facets</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;smoker&quot;</span>,</span><br><span class="line">            col=<span class="string">&quot;time&quot;</span>, data=tips);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_34_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;subject&quot;</span>,</span><br><span class="line">            col=<span class="string">&quot;region&quot;</span>, row=<span class="string">&quot;event&quot;</span>, height=<span class="number">3</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, estimator=<span class="literal">None</span>, data=fmri);</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_35_0.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;event&quot;</span>, style=<span class="string">&quot;event&quot;</span>,</span><br><span class="line">            col=<span class="string">&quot;subject&quot;</span>, col_wrap=<span class="number">5</span>,</span><br><span class="line">            height=<span class="number">3</span>, aspect=<span class="number">.75</span>, linewidth=<span class="number">2.5</span>,</span><br><span class="line">            kind=<span class="string">&quot;line&quot;</span>, data=fmri.query(<span class="string">&quot;region==&#x27;frontal&#x27;&quot;</span>));</span><br></pre></td></tr></table></figure>


<p><img src="/images/0714/output_36_0.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-07T00:00:00.000Z" title="2022. 7. 7. 오전 9:00:00">2022-07-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-07T11:32:57.643Z" title="2022. 7. 7. 오후 8:32:57">2022-07-07</time></span><span class="level-item">19 minutes read (About 2887 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/07/lecture-in-humanedu/">캐글입문</a></h1><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This Python 3 environment comes with many helpful analytics libraries installed</span></span><br><span class="line"><span class="comment"># It is defined by the kaggle/python Docker image: https://github.com/kaggle/docker-python</span></span><br><span class="line"><span class="comment"># For example, here&#x27;s several helpful packages to load</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># linear algebra</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment"># data processing, CSV file I/O (e.g. pd.read_csv)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Input data files are available in the read-only &quot;../input/&quot; directory</span></span><br><span class="line"><span class="comment"># For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">for</span> dirname, _, filenames <span class="keyword">in</span> os.walk(<span class="string">&#x27;/kaggle/input&#x27;</span>):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">        <span class="built_in">print</span>(os.path.join(dirname, filename))</span><br><span class="line"></span><br><span class="line"><span class="comment"># You can write up to 20GB to the current directory (/kaggle/working/) that gets preserved as output when you create a version using &quot;Save &amp; Run All&quot; </span></span><br><span class="line"><span class="comment"># You can also write temporary files to /kaggle/temp/, but they won&#x27;t be saved outside of the current session</span></span><br></pre></td></tr></table></figure>

<h2 id="라이브러리-불러오기"><a href="#라이브러리-불러오기" class="headerlink" title="라이브러리 불러오기"></a>라이브러리 불러오기</h2><ul>
<li>주요 라이브러리 버전을 확인한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl </span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line"><span class="keyword">import</span> sklearn</span><br><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb </span><br><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pandas version :&quot;</span>, pd.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;numpy version :&quot;</span>, np.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;matplotlib version :&quot;</span>, mpl.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;seaborn version :&quot;</span>, sns.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;scikit-learn version :&quot;</span>, sklearn.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;xgboost version :&quot;</span>, xgb.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;lightgbm version :&quot;</span>, lgb.__version__)</span><br></pre></td></tr></table></figure>

<h2 id="데이터-불러오기"><a href="#데이터-불러오기" class="headerlink" title="데이터 불러오기"></a>데이터 불러오기</h2><ul>
<li>pandas 활용</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DATA_PATH = <span class="string">&#x27;/kaggle/input/house-prices-advanced-regression-techniques/&#x27;</span></span><br><span class="line">train = pd.read_csv(DATA_PATH + <span class="string">&quot;train.csv&quot;</span>)</span><br><span class="line">test = pd.read_csv(DATA_PATH + <span class="string">&quot;test.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;데이터 불러오기 완료!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="데이터-둘러보기"><a href="#데이터-둘러보기" class="headerlink" title="데이터 둘러보기"></a>데이터 둘러보기</h2><ul>
<li>데이터를 둘러봅니다</li>
<li>train : 행갯수 1460 열갯수81 (SalePrice 존재)</li>
<li>test : 행갯수 1459 열갯수 80 (SalePrice 컬럼 미존재)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.shape, test.shape</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.info()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test.info()</span><br></pre></td></tr></table></figure>

<h2 id="데이터-시각화"><a href="#데이터-시각화" class="headerlink" title="데이터 시각화"></a>데이터 시각화</h2><ul>
<li><p>여기에서는 생략</p>
</li>
<li><p>종속변수 분포확인필요</p>
</li>
<li><p>샤피로 검정</p>
</li>
<li><p>정규분포인가요?</p>
</li>
</ul>
<ul>
<li>정규분포가 아니면 &gt; 로그변환, 박스코스 변환 등등</li>
<li>정규분포로 만들어줘야한다</li>
</ul>
<ul>
<li>선형모델의 상능을 올리기 위해서</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> norm</span><br><span class="line">(mu,sigma) = norm.fit(train[<span class="string">&#x27;SalePrice&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;평균:&quot;</span>, mu)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;표준편차:&quot;</span>,sigma)</span><br><span class="line"></span><br><span class="line">fig, ax=plt.subplots(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">sns.histplot(train[<span class="string">&#x27;SalePrice&#x27;</span>])</span><br><span class="line">ax.<span class="built_in">set</span>(title=<span class="string">&quot;SalePrice Distribution&quot;</span>)</span><br><span class="line">ax.axvline(mu,color=<span class="string">&#x27;r&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">ax.text(mu+<span class="number">10000</span>,<span class="number">160</span>,<span class="string">&#x27;Mean of SalePrice&#x27;</span>, color = <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<ul>
<li>로그변환을 해서 정규분포로 변환해준다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train[<span class="string">&#x27;SalePrice&#x27;</span>][:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>로그변환을 해서 정규분포로 바꿔준다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 로그 변환</span></span><br><span class="line">train[<span class="string">&#x27;SalePrice&#x27;</span>]= np.log1p(train[<span class="string">&#x27;SalePrice&#x27;</span>])</span><br><span class="line"></span><br><span class="line">(mu,sigma) = norm.fit(train[<span class="string">&#x27;SalePrice&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;평균:&quot;</span>, mu)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;표준편차:&quot;</span>,sigma)</span><br><span class="line"></span><br><span class="line">fig, ax=plt.subplots(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">sns.histplot(train[<span class="string">&#x27;SalePrice&#x27;</span>])</span><br><span class="line">ax.<span class="built_in">set</span>(title=<span class="string">&quot;SalePrice Distribution&quot;</span>)</span><br><span class="line">ax.axvline(mu,color=<span class="string">&#x27;r&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">ax.text(mu+<span class="number">0.0001</span>,<span class="number">160</span>,<span class="string">&#x27;Mean of SalePrice&#x27;</span>, color = <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">ax.set_ylim(<span class="number">0</span>,<span class="number">170</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="데이터-전처리"><a href="#데이터-전처리" class="headerlink" title="데이터 전처리"></a>데이터 전처리</h2><ul>
<li>컬럼 갯수가 많을때, 어떤 컬럼을 삭제할지 결정</li>
<li>머신러닝 연산속도부터 높여야 한다</li>
</ul>
<h3 id="데이터-ID값-제거"><a href="#데이터-ID값-제거" class="headerlink" title="데이터 ID값 제거"></a>데이터 ID값 제거</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train [<span class="string">&#x27;Id&#x27;</span>][:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">train_ID = train[<span class="string">&#x27;Id&#x27;</span>]</span><br><span class="line">test_ID = test[<span class="string">&#x27;Id&#x27;</span>]</span><br><span class="line"></span><br><span class="line">train = train.drop([<span class="string">&#x27;Id&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">train.shape</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test = test.drop([<span class="string">&#x27;Id&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">test.shape</span><br></pre></td></tr></table></figure>

<h3 id="Y값-추출"><a href="#Y값-추출" class="headerlink" title="Y값 추출"></a>Y값 추출</h3><ul>
<li>train데이터에 SalePrice만 따로 저장한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">y=train[<span class="string">&#x27;SalePrice&#x27;</span>]</span><br><span class="line">train = train.drop(<span class="string">&#x27;SalePrice&#x27;</span>, axis = <span class="number">1</span>)</span><br><span class="line">y</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test.shape</span><br></pre></td></tr></table></figure>

<h3 id="데이터-합치기"><a href="#데이터-합치기" class="headerlink" title="데이터 합치기"></a>데이터 합치기</h3><ul>
<li>실전 원칙 : train 따로 정리 &#x2F; test 따로 정리</li>
<li>Data Leakage오류를 범할 가능성이 높다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df = pd.concat([train, test]).reset_index(drop=<span class="literal">True</span>)</span><br><span class="line">all_df.shape</span><br></pre></td></tr></table></figure>

<h2 id="결측치-확인"><a href="#결측치-확인" class="headerlink" title="결측치 확인"></a>결측치 확인</h2><ul>
<li>결측치의 비율 확인하는 사용자 정의 함수 작</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">check_na</span>(<span class="params">data, head_num = <span class="number">6</span></span>):</span><br><span class="line">  isnull_na = (data.isnull().<span class="built_in">sum</span>() / <span class="built_in">len</span>(data)) * <span class="number">100</span></span><br><span class="line">  data_na = isnull_na.drop(isnull_na[isnull_na == <span class="number">0</span>].index).sort_values(ascending=<span class="literal">False</span>)</span><br><span class="line">  missing_data = pd.DataFrame(&#123;<span class="string">&#x27;Missing Ratio&#x27;</span> :data_na, </span><br><span class="line">                               <span class="string">&#x27;Data Type&#x27;</span>: data.dtypes[data_na.index]&#125;)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;결측치 데이터 컬럼과 건수:\n&quot;</span>, missing_data.head(head_num))</span><br><span class="line"></span><br><span class="line">check_na(all_df, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>결측치 제거</li>
<li>결측치 비율이 높은 변수들을 모두 제거하기로 했다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_df = all_df.drop([<span class="string">&#x27;PoolQC&#x27;</span>, <span class="string">&#x27;MiscFeature&#x27;</span>, <span class="string">&#x27;Alley&#x27;</span>, <span class="string">&#x27;Fence&#x27;</span>, <span class="string">&#x27;FireplaceQu&#x27;</span>, <span class="string">&#x27;LotFrontage&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(all_df.shape)</span><br><span class="line">check_na(all_df)</span><br></pre></td></tr></table></figure>

<h2 id="결측치-채우기"><a href="#결측치-채우기" class="headerlink" title="결측치 채우기"></a>결측치 채우기</h2><ul>
<li>train데이터와 test데이터가 섞이면 안됨</li>
<li>train&#x2F;test 분리해서 진행해야한다</li>
<li>문자데이터: 자주 등장하는 빈도값으로 채움</li>
<li>숫자데이더: 평균이 아니라, 중간값으로 채움</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#all_df[&#x27;BsmtCond&#x27;].value_counts().index[0]</span></span><br><span class="line">all_df[<span class="string">&#x27;BsmtCond&#x27;</span>].mode()[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 문자열 데이터만 추출</span></span><br><span class="line">cat_all_vars = train.select_dtypes(exclude=[np.number])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The whole number of all_vars&quot;</span>, <span class="built_in">len</span>(<span class="built_in">list</span>(cat_all_vars)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 문자열 데이터 중에서 이미 기 삭제했던 Feature들이 있었기 때문에, </span></span><br><span class="line"><span class="comment"># 한번 더 Feature를 정리하는 코드를 작성한다. </span></span><br><span class="line"><span class="comment"># 따라서 38개의 Feature만 추출했다. </span></span><br><span class="line">final_cat_vars = []</span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> cat_all_vars:</span><br><span class="line">    <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;PoolQC&#x27;</span>, <span class="string">&#x27;MiscFeature&#x27;</span>, <span class="string">&#x27;Alley&#x27;</span>, <span class="string">&#x27;Fence&#x27;</span>, <span class="string">&#x27;FireplaceQu&#x27;</span>]:</span><br><span class="line">        final_cat_vars.append(v)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The whole number of final_cat_vars&quot;</span>, <span class="built_in">len</span>(final_cat_vars))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이제 각 Feature 마다 빈도수가 가장 많이 나타나는 값을 추가하는 코드를 작성한다. </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> final_cat_vars:</span><br><span class="line">  all_df[i] = all_df[i].fillna(all_df[i].mode()[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이제 수치형 데이터만 남은 것을 확인한다. </span></span><br><span class="line">check_na(all_df, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>수치형 데이터의 결측치를 추가할수 있다</li>
<li>이번에는 수치형 데이터만 추출한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 방법은 기존과 동일하다. </span></span><br><span class="line"><span class="comment"># 이번에는 수치형 데이터만 추출한다. </span></span><br><span class="line">num_all_vars = <span class="built_in">list</span>(train.select_dtypes(include=[np.number]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The whole number of all_vars&quot;</span>, <span class="built_in">len</span>(num_all_vars))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 수치형 데이터 중, 결측치가 많았던 `LotFrontage`만 처리한다. </span></span><br><span class="line">num_all_vars.remove(<span class="string">&#x27;LotFrontage&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The whole number of final_cat_vars&quot;</span>, <span class="built_in">len</span>(num_all_vars))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이번에는 수치형 데이터의 평균이 아닌 중간값을 지정했다. </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> num_all_vars:</span><br><span class="line">  all_df[i].fillna(value=all_df[i].median(), inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">check_na(all_df, <span class="number">20</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_df.info()</span><br></pre></td></tr></table></figure>

<h2 id="도출-변수"><a href="#도출-변수" class="headerlink" title="도출 변수"></a>도출 변수</h2><ul>
<li><p>새로운 도출변수를 작성 (기존 변수 활용)</p>
</li>
<li><p>기존 변수 제거</p>
</li>
<li><p>각 층의 면적으로 모두 더해 전체 면적으러로 계산한 새로운 변수를 작성한다</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;TotalSF&#x27;</span>] = all_df[<span class="string">&#x27;TotalBsmtSF&#x27;</span>] + all_df[<span class="string">&#x27;1stFlrSF&#x27;</span>] + all_df[<span class="string">&#x27;2ndFlrSF&#x27;</span>]</span><br><span class="line">all_df = all_df.drop([<span class="string">&#x27;TotalBsmtSF&#x27;</span>, <span class="string">&#x27;1stFlrSF&#x27;</span>, <span class="string">&#x27;2ndFlrSF&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(all_df.shape)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;Total_Bathrooms&#x27;</span>] = (all_df[<span class="string">&#x27;FullBath&#x27;</span>] + (<span class="number">0.5</span> * all_df[<span class="string">&#x27;HalfBath&#x27;</span>]) + all_df[<span class="string">&#x27;BsmtFullBath&#x27;</span>] + (<span class="number">0.5</span> * all_df[<span class="string">&#x27;BsmtHalfBath&#x27;</span>]))</span><br><span class="line">all_df[<span class="string">&#x27;Total_porch_sf&#x27;</span>] = (all_df[<span class="string">&#x27;OpenPorchSF&#x27;</span>] + all_df[<span class="string">&#x27;3SsnPorch&#x27;</span>] + all_df[<span class="string">&#x27;EnclosedPorch&#x27;</span>] + all_df[<span class="string">&#x27;ScreenPorch&#x27;</span>])</span><br><span class="line">all_df = all_df.drop([<span class="string">&#x27;FullBath&#x27;</span>, <span class="string">&#x27;HalfBath&#x27;</span>, <span class="string">&#x27;BsmtFullBath&#x27;</span>, <span class="string">&#x27;BsmtHalfBath&#x27;</span>, <span class="string">&#x27;OpenPorchSF&#x27;</span>, <span class="string">&#x27;3SsnPorch&#x27;</span>, <span class="string">&#x27;EnclosedPorch&#x27;</span>, <span class="string">&#x27;ScreenPorch&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(all_df.shape)</span><br></pre></td></tr></table></figure>

<ul>
<li>연도와 관련된 변수를 추출하는 코드 작성</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">num_all_vars = <span class="built_in">list</span>(train.select_dtypes(include=[np.number]))</span><br><span class="line">year_feature = []</span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> num_all_vars:</span><br><span class="line">  <span class="keyword">if</span> <span class="string">&#x27;Yr&#x27;</span> <span class="keyword">in</span> var:</span><br><span class="line">    year_feature.append(var)</span><br><span class="line">  <span class="keyword">elif</span> <span class="string">&#x27;Year&#x27;</span> <span class="keyword">in</span> var:</span><br><span class="line">    year_feature.append(var)</span><br><span class="line">  <span class="keyword">else</span>:  </span><br><span class="line">    <span class="built_in">print</span>(var, <span class="string">&quot;is not related with Year&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(year_feature)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">3</span>, <span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>), sharex=<span class="literal">True</span>, sharey=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">for</span> i, var <span class="keyword">in</span> <span class="built_in">enumerate</span>(year_feature):</span><br><span class="line">  <span class="keyword">if</span> var != <span class="string">&#x27;YrSold&#x27;</span>:</span><br><span class="line">    ax[i].scatter(train[var], y, alpha=<span class="number">0.3</span>)</span><br><span class="line">    ax[i].set_title(<span class="string">&#x27;&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(var), size=<span class="number">15</span>)</span><br><span class="line">    ax[i].set_ylabel(<span class="string">&#x27;SalePrice&#x27;</span>, size=<span class="number">15</span>, labelpad=<span class="number">12.5</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df = all_df.drop([<span class="string">&#x27;YearBuilt&#x27;</span>, <span class="string">&#x27;GarageYrBlt&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(all_df.shape)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YearsSinceRemodel = train[<span class="string">&#x27;YrSold&#x27;</span>].astype(<span class="built_in">int</span>) - train[<span class="string">&#x27;YearRemodAdd&#x27;</span>].astype(<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">6</span>))</span><br><span class="line">ax.scatter(YearsSinceRemodel, y, alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;YearsSinceRemodel&#x27;</span>] = all_df[<span class="string">&#x27;YrSold&#x27;</span>].astype(<span class="built_in">int</span>) - all_df[<span class="string">&#x27;YearRemodAdd&#x27;</span>].astype(<span class="built_in">int</span>)</span><br><span class="line">all_df = all_df.drop([<span class="string">&#x27;YrSold&#x27;</span>, <span class="string">&#x27;YearRemodAdd&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(all_df.shape)</span><br></pre></td></tr></table></figure>

<h2 id="더미-변수"><a href="#더미-변수" class="headerlink" title="더미 변수"></a>더미 변수</h2><ul>
<li>더미 변수란 독립변수를 0과 1로 변환하는 변수를 말한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;PoolArea&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure>

<ul>
<li>사용자 정의함수 만들기</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_dummy</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;PoolArea&#x27;</span>]= all_df[<span class="string">&#x27;PoolArea&#x27;</span>].apply(count_dummy)</span><br><span class="line">all_df[<span class="string">&#x27;PoolArea&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;GarageArea&#x27;</span>]= all_df[<span class="string">&#x27;GarageArea&#x27;</span>].apply(count_dummy)</span><br><span class="line">all_df[<span class="string">&#x27;GarageArea&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df[<span class="string">&#x27;Fireplaces&#x27;</span>]= all_df[<span class="string">&#x27;Fireplaces&#x27;</span>].apply(count_dummy)</span><br><span class="line">all_df[<span class="string">&#x27;Fireplaces&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_df.info()</span><br></pre></td></tr></table></figure>

<h2 id="Label-Encoding-Ordinal-Enciding-One-Hot-Encoding"><a href="#Label-Encoding-Ordinal-Enciding-One-Hot-Encoding" class="headerlink" title="Label Encoding, Ordinal Enciding, One Hot Encoding"></a>Label Encoding, Ordinal Enciding, One Hot Encoding</h2><ul>
<li>인코딩은 문자 데이터를 수치로 변환하는 방법중의 하나이</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 분류모형</span></span><br><span class="line"><span class="comment"># 종속변수(양성, 음성)</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">temp = pd.DataFrame(&#123;<span class="string">&#x27;Food_Name&#x27;</span>: [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], </span><br><span class="line">                     <span class="string">&#x27;Calories&#x27;</span>: [<span class="number">95</span>, <span class="number">231</span>, <span class="number">50</span>]&#125;)</span><br><span class="line"></span><br><span class="line">encoder = LabelEncoder()</span><br><span class="line">encoder.fit(temp[<span class="string">&#x27;Food_Name&#x27;</span>])</span><br><span class="line">labels = encoder.transform(temp[<span class="string">&#x27;Food_Name&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(temp[<span class="string">&#x27;Food_Name&#x27;</span>]), <span class="string">&quot;==&gt;&quot;</span>, labels)</span><br></pre></td></tr></table></figure>

<ul>
<li>Ordinal Encoding은 독립변수에만 사용한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> OrdinalEncoder</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">temp = pd.DataFrame(&#123;<span class="string">&#x27;Food_Name&#x27;</span>: [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], </span><br><span class="line">                     <span class="string">&#x27;Calories&#x27;</span>: [<span class="number">95</span>, <span class="number">231</span>, <span class="number">50</span>]&#125;)</span><br><span class="line"></span><br><span class="line">encoder = OrdinalEncoder()</span><br><span class="line">labels = encoder.fit_transform(temp[[<span class="string">&#x27;Food_Name&#x27;</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(temp[<span class="string">&#x27;Food_Name&#x27;</span>]), <span class="string">&quot;==&gt;&quot;</span>, labels.tolist())</span><br></pre></td></tr></table></figure>

<ul>
<li>Pandas 메서드 통해서 직접 숫자로 변환</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">temp = pd.DataFrame(&#123;<span class="string">&#x27;Food_Name&#x27;</span>: [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], </span><br><span class="line">                     <span class="string">&#x27;Calories&#x27;</span>: [<span class="number">95</span>, <span class="number">231</span>, <span class="number">50</span>]&#125;)</span><br><span class="line"></span><br><span class="line">temp[<span class="string">&#x27;Food_No&#x27;</span>] = temp.Food_Name.replace(to_replace = [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], value = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(temp[[<span class="string">&#x27;Food_Name&#x27;</span>, <span class="string">&#x27;Food_No&#x27;</span>]])</span><br></pre></td></tr></table></figure>

<ul>
<li>One Hot Encoding</li>
</ul>
<ul>
<li>sscikit-learn 방식이 조금 복잡하다</li>
<li>그래서 보통은 pandas get_dummies() 함수를 활용한</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelBinarizer</span><br><span class="line"></span><br><span class="line">temp = pd.DataFrame(&#123;<span class="string">&#x27;Food_Name&#x27;</span>: [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], </span><br><span class="line">                     <span class="string">&#x27;Calories&#x27;</span>: [<span class="number">95</span>, <span class="number">231</span>, <span class="number">50</span>]&#125;)</span><br><span class="line"></span><br><span class="line">encoder = LabelBinarizer()</span><br><span class="line">encoder.fit(temp[<span class="string">&#x27;Food_Name&#x27;</span>])</span><br><span class="line">transformed = encoder.transform(temp[<span class="string">&#x27;Food_Name&#x27;</span>])</span><br><span class="line">ohe_df = pd.DataFrame(transformed)</span><br><span class="line">temp = pd.concat([temp, ohe_df], axis=<span class="number">1</span>).drop([<span class="string">&#x27;Food_Name&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">temp.columns = [<span class="string">&#x27;Calories&#x27;</span>, <span class="string">&#x27;Food_Name_Apple&#x27;</span>, <span class="string">&#x27;Food_Name_Broccoli&#x27;</span>, <span class="string">&#x27;Food_Name_Chicken&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(temp)</span><br><span class="line"><span class="built_in">print</span>(temp.shape)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">temp = pd.DataFrame(&#123;<span class="string">&#x27;Food_Name&#x27;</span>: [<span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Chicken&#x27;</span>, <span class="string">&#x27;Broccoli&#x27;</span>], </span><br><span class="line">                     <span class="string">&#x27;Calories&#x27;</span>: [<span class="number">95</span>, <span class="number">231</span>, <span class="number">50</span>]&#125;)</span><br><span class="line"></span><br><span class="line">temp = pd.get_dummies(temp)</span><br><span class="line"><span class="built_in">print</span>(temp)</span><br><span class="line"><span class="built_in">print</span>(temp.shape)</span><br></pre></td></tr></table></figure>

<ul>
<li>본 데이터에 적용</li>
</ul>
<ul>
<li>여기서는 Ordinal Encoding 적용안한다(단, 실전에서는 꼭 찾아서 해야한다)</li>
</ul>
<ul>
<li>One Hot Encoding 적용</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_df = pd.get_dummies(all_df).reset_index(drop=<span class="literal">True</span>)</span><br><span class="line">all_df.shape</span><br></pre></td></tr></table></figure>

<ul>
<li>train, test 데이터 합쳐서 진행</li>
<li>train, test 데이터 재분리</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X = all_df.iloc[:<span class="built_in">len</span>(y), :]</span><br><span class="line">test = all_df.iloc[<span class="built_in">len</span>(y):, :]</span><br><span class="line"></span><br><span class="line">X.shape, y.shape, test.shape</span><br></pre></td></tr></table></figure>

<h2 id="과제"><a href="#과제" class="headerlink" title="과제"></a>과제</h2><ul>
<li>남은 시간동안 교재를 보고 머신러닝 학습 및 RMSE를 구하세요</li>
<li>데이터 셋 분리 </li>
<li>X 데이터를 X_train, X_test, y_train, y_test로 구분</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">    X, y, test_size=<span class="number">0.3</span>, random_state = <span class="number">42</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">X_train.shape, X_test.shape, y_train.shape, y_test.shape</span><br></pre></td></tr></table></figure>

<h2 id="평가-지표"><a href="#평가-지표" class="headerlink" title="평가 지표"></a>평가 지표</h2><ul>
<li>MAE, MSE, RMSE</li>
</ul>
<h3 id="MAE"><a href="#MAE" class="headerlink" title="MAE"></a>MAE</h3><ul>
<li>실제값과 예측값의 차이, 오차, 오차들의 절댓값 평균을 말한다</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mean_absolute_error</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    error = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> yt, yp <span class="keyword">in</span> <span class="built_in">zip</span>(y_true, y_pred):</span><br><span class="line">        <span class="comment"># yt : 실젯값</span></span><br><span class="line">        <span class="comment"># yp : 예측값</span></span><br><span class="line">        error = error + np.<span class="built_in">abs</span>(yt - yp)</span><br><span class="line">        <span class="comment"># 절댓값 오차의 평균</span></span><br><span class="line">    mae = error / <span class="built_in">len</span>(y_true)</span><br><span class="line">    <span class="keyword">return</span> mae</span><br><span class="line">y_true = [<span class="number">400</span>, <span class="number">300</span>, <span class="number">800</span>]</span><br><span class="line">y_pred = [<span class="number">380</span>, <span class="number">320</span>, <span class="number">777</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MAE:&quot;</span>, mean_absolute_error(y_true, y_pred))</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mean_absolute_error</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    error = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> yt, yp <span class="keyword">in</span> <span class="built_in">zip</span>(y_true, y_pred):</span><br><span class="line">        <span class="comment"># yt : 실젯값</span></span><br><span class="line">        <span class="comment"># yp : 예측값</span></span><br><span class="line">        error = error + np.<span class="built_in">abs</span>(yt - yp)</span><br><span class="line">        <span class="comment"># 절댓값 오차의 평균</span></span><br><span class="line">    mae = error / <span class="built_in">len</span>(y_true)</span><br><span class="line">    <span class="keyword">return</span> mae</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mean_squared_error</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    error = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> yt, yp <span class="keyword">in</span> <span class="built_in">zip</span>(y_true, y_pred):</span><br><span class="line">        <span class="comment"># yt : 실젯값</span></span><br><span class="line">        <span class="comment"># yp : 예측값</span></span><br><span class="line">        error = error + (yt - yp) ** <span class="number">2</span></span><br><span class="line">        <span class="comment"># 제곱값 오차의 평균</span></span><br><span class="line">    mse = error / <span class="built_in">len</span>(y_true)</span><br><span class="line">    <span class="keyword">return</span> mse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">root_mean_squared_error</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    error = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> yt, yp <span class="keyword">in</span> <span class="built_in">zip</span>(y_true, y_pred):</span><br><span class="line">        <span class="comment"># yt : 실젯값</span></span><br><span class="line">        <span class="comment"># yp : 예측값</span></span><br><span class="line">        error = error + (yt - yp) ** <span class="number">2</span></span><br><span class="line">        <span class="comment"># 제곱값 오차의 평균</span></span><br><span class="line">    mse = error / <span class="built_in">len</span>(y_true)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 제곱근 추가</span></span><br><span class="line">    rmse = np.<span class="built_in">round</span>(np.sqrt(mse), <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> rmse</span><br><span class="line"></span><br><span class="line">y_true = [<span class="number">400</span>, <span class="number">300</span>, <span class="number">800</span>]</span><br><span class="line">y_pred = [<span class="number">380</span>, <span class="number">320</span>, <span class="number">777</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MAE:&quot;</span>, mean_absolute_error(y_true, y_pred))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MSE:&quot;</span>, mean_squared_error(y_true, y_pred))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;RMSE:&quot;</span>, root_mean_squared_error(y_true, y_pred))</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#from sklearn.linear_model import LinearRegression</span></span><br><span class="line"><span class="comment">#lr_model = LinearRegression()</span></span><br><span class="line"><span class="comment">#lr_model.fit(X_train, y_train)</span></span><br><span class="line"><span class="comment">#print(lr_model.score(X_train, y_train))</span></span><br><span class="line"><span class="comment">#print(lr_model.score(X_test, y_test))</span></span><br></pre></td></tr></table></figure>

<h2 id="모형만들기"><a href="#모형만들기" class="headerlink" title="모형만들기"></a>모형만들기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rmse</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> no.squre(mean_squre_error(y_true, y_pred))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="머신러닝-모형정의-검증평가"><a href="#머신러닝-모형정의-검증평가" class="headerlink" title="머신러닝 모형정의, 검증평가"></a>머신러닝 모형정의, 검증평가</h2><ul>
<li>교차 검증 함수 만들기</li>
</ul>
<p>참고 <a target="_blank" rel="noopener" href="https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.cross_val_score.html">https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.cross_val_score.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rmse</span>(<span class="params">y_true, y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> np.sqrt(mean_squared_error(y_true, y_pred))</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 교차 검증</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold, cross_val_score </span><br><span class="line"></span><br><span class="line"><span class="comment"># 모형 정의</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_rmse</span>(<span class="params">model, n_folds=<span class="number">5</span></span>):</span><br><span class="line">    cv = KFold(n_splits = n_folds, random_state=<span class="number">42</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">    rmse_list = np.sqrt(-cross_val_score(model, X, y, scoring=<span class="string">&#x27;neg_mean_squared_error&#x27;</span>, cv=cv))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;CV RMSE Value List:&#x27;</span>, np.<span class="built_in">round</span>(rmse_list, <span class="number">4</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;CV RMSE mean List:&#x27;</span>, np.<span class="built_in">round</span>(np.mean(rmse_list), <span class="number">4</span>))</span><br><span class="line">    <span class="keyword">return</span> rmse_list </span><br><span class="line"></span><br><span class="line">rmse_scores = &#123;&#125; </span><br><span class="line">lr_model = LinearRegression()</span><br><span class="line"></span><br><span class="line">score = cv_rmse(lr_model, n_folds=<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;linear regression - mean : &#123;:.4f&#125; (std: &#123;:.4f&#125;)&#x27;</span>.<span class="built_in">format</span>(score.mean(), score.std()))</span><br><span class="line"></span><br><span class="line">rmse_scores[<span class="string">&#x27;Linear Regression&#x27;</span>] = (score.mean(), score.std())</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold, cross_val_score</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">from</span> lightgbm <span class="keyword">import</span> LGBMRegressor</span><br><span class="line"><span class="keyword">from</span> xgboost <span class="keyword">import</span> XGBRegressor</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_rmse</span>(<span class="params">model, n_folds=<span class="number">5</span></span>):</span><br><span class="line">    cv = KFold(n_splits=n_folds, random_state=<span class="number">42</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">    rmse_list = np.sqrt(-cross_val_score(model, X, y, scoring=<span class="string">&#x27;neg_mean_squared_error&#x27;</span>, cv=cv))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;CV RMSE value list:&#x27;</span>, np.<span class="built_in">round</span>(rmse_list, <span class="number">4</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;CV RMSE mean value:&#x27;</span>, np.<span class="built_in">round</span>(np.mean(rmse_list), <span class="number">4</span>))</span><br><span class="line">    <span class="keyword">return</span> (rmse_list)</span><br><span class="line"></span><br><span class="line">n_folds = <span class="number">5</span></span><br><span class="line">rmse_scores = &#123;&#125;</span><br><span class="line"><span class="comment">#lr_model = LinearRegression()</span></span><br><span class="line">lgb_model = LGBMRegressor()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">score = cv_rmse(lr_model, n_folds)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;linear regression - mean: &#123;:.4f&#125; (std: &#123;:.4f&#125;)&quot;</span>.<span class="built_in">format</span>(score.mean(), score.std()))</span><br><span class="line">rmse_scores[<span class="string">&#x27;linear regression&#x27;</span>] = (score.mean(), score.std())</span><br></pre></td></tr></table></figure>

<ul>
<li>제출 방법</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_predict</span><br><span class="line"></span><br><span class="line"><span class="comment"># X = all_df.iloc[:len(y), :]</span></span><br><span class="line"><span class="comment"># X_test = all_df.iloc[len(y):, :]</span></span><br><span class="line"><span class="comment"># X.shape, y.shape, X_test.shape</span></span><br><span class="line"></span><br><span class="line">lr_model_fit = lr_model.fit(X_train, y_train)</span><br><span class="line">final_preds = np.floor(np.expm1(lr_model_fit.predict(test)))</span><br><span class="line"><span class="built_in">print</span>(final_preds)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">submission = pd.read_csv(DATA_PATH + <span class="string">&quot;sample_submission.csv&quot;</span>)</span><br><span class="line">submission.iloc[:,<span class="number">1</span>] = final_preds</span><br><span class="line"><span class="built_in">print</span>(submission.head())</span><br><span class="line">submission.to_csv(<span class="string">&quot;submission.csv&quot;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-06T11:39:54.239Z" title="2022. 7. 6. 오후 8:39:54">2022-07-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-06T13:00:58.747Z" title="2022. 7. 6. 오후 10:00:58">2022-07-06</time></span><span class="level-item">34 minutes read (About 5172 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/06/day0706_1200/">XGboost &amp; LightGBM</a></h1><div class="content"><h2 id="XGboost-amp-LightGBM-2016-2017"><a href="#XGboost-amp-LightGBM-2016-2017" class="headerlink" title="XGboost &amp; LightGBM (2016-2017)"></a>XGboost &amp; LightGBM (2016-2017)</h2><ul>
<li>전통적인 머신러닝 알고리즘의 융합</li>
</ul>
<ul>
<li>선형회귀 릿지 라쏘, 과적합 방지 위한 규제</li>
<li>결정트리의 핵심적인 알고리즘</li>
<li>경사하강법</li>
<li>부스팅 기법</li>
</ul>
<ul>
<li>문제점 : 파라미터의 개수가 매우 많음</li>
<li>왜 많이 쓸까요?</li>
</ul>
<ul>
<li>모델학습 속도 </li>
<li>성능 </li>
<li>가장 좋은 모델이란, 학습속도는 빠르면서 성능은 좋은 것(지금까지 나온 알고리즘보다)</li>
</ul>
<ul>
<li>Python</li>
</ul>
<ul>
<li>JAVA, C, C++</li>
<li>C, C++ &#x2F; r data.table 패키지</li>
</ul>
<ul>
<li>큰 회사들 개발</li>
</ul>
<ul>
<li>첫 번째 옵션, 우리가 자체적으로 배포하자-&gt; Pyhthon Wrapper API</li>
<li>R, 머신러닝 프레임워크 종류 다양</li>
<li>파이썬 머신러닝 &#x3D; Scikit-Learn에서 쉽게 쓸 수 있도록 개발, Scikit-Learn</li>
</ul>
<p> 참고 <a target="_blank" rel="noopener" href="https://xgboost.readthedocs.io/en/stable/python/python_intro.html">https://xgboost.readthedocs.io/en/stable/python/python_intro.html</a> </p>
<h1 id="XGboost-Scikit-Learn-API방식-amp-python-Wrapper-방식"><a href="#XGboost-Scikit-Learn-API방식-amp-python-Wrapper-방식" class="headerlink" title="XGboost (Scikit-Learn API방식 &amp; python Wrapper 방식)"></a>XGboost (Scikit-Learn API방식 &amp; python Wrapper 방식)</h1><h3 id="python-Wrapper-방식"><a href="#python-Wrapper-방식" class="headerlink" title="python Wrapper 방식"></a>python Wrapper 방식</h3><ul>
<li>X_train, y_train</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb </span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line"></span><br><span class="line"><span class="comment"># 데이터 분리</span></span><br><span class="line">titanic = sns.load_dataset(<span class="string">&#x27;titanic&#x27;</span>)</span><br><span class="line"><span class="comment"># titanic.info()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># X, 독립변수, y 종속변수</span></span><br><span class="line">X = titanic[[<span class="string">&#x27;pclass&#x27;</span>, <span class="string">&#x27;parch&#x27;</span>, <span class="string">&#x27;fare&#x27;</span>]]</span><br><span class="line">y = titanic[<span class="string">&#x27;survived&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 훈련데이터, 테스트 데이터 분리</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, </span><br><span class="line">                                                    y, </span><br><span class="line">                                                    stratify = y, </span><br><span class="line">                                                    test_size = <span class="number">0.3</span>, </span><br><span class="line">                                                    random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">X_train.shape, X_test.shape, y_train.shape, y_test.shape</span><br></pre></td></tr></table></figure>




<pre><code>((623, 3), (268, 3), (623,), (268,))
</code></pre>
<ul>
<li>여기가 핵심</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dtrain = xgb.DMatrix(data = X_train, label = y_train)</span><br><span class="line">dtest = xgb.DMatrix(data=X_test, label=y_test)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(dtrain)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>&lt;xgboost.core.DMatrix object at 0x7fc937b31ad0&gt;
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#max_depth = 트리의 깊이</span></span><br><span class="line"><span class="comment">#n_estimator = 트리의 수</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span> : <span class="number">3</span>, </span><br><span class="line">    <span class="string">&#x27;n_estimators&#x27;</span> : <span class="number">100</span>, </span><br><span class="line">    <span class="string">&#x27;eta&#x27;</span> : <span class="number">0.1</span>, </span><br><span class="line">    <span class="string">&#x27;objective&#x27;</span> : <span class="string">&#x27;binary:logistic&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">num_rounds = <span class="number">400</span></span><br><span class="line"></span><br><span class="line">w_list = [(dtrain, <span class="string">&#x27;train&#x27;</span>), (dtest, <span class="string">&#x27;test&#x27;</span>)]</span><br><span class="line">xgb_ml = xgb.train(params = params, </span><br><span class="line">                   dtrain = dtrain, </span><br><span class="line">                   num_boost_round = <span class="number">400</span>, </span><br><span class="line">                   early_stopping_rounds = <span class="number">100</span>, </span><br><span class="line">                   evals = w_list)</span><br></pre></td></tr></table></figure>

<pre><code>[0]	train-error:0.260032	test-error:0.302239
Multiple eval metrics have been passed: &#39;test-error&#39; will be used for early stopping.

Will train until test-error hasn&#39;t improved in 100 rounds.
[1]	train-error:0.260032	test-error:0.302239
[2]	train-error:0.260032	test-error:0.302239
[3]	train-error:0.260032	test-error:0.302239
[4]	train-error:0.260032	test-error:0.302239
[5]	train-error:0.260032	test-error:0.302239
[6]	train-error:0.260032	test-error:0.302239
[7]	train-error:0.260032	test-error:0.302239
[8]	train-error:0.260032	test-error:0.302239
[9]	train-error:0.260032	test-error:0.302239
[10]	train-error:0.260032	test-error:0.302239
[11]	train-error:0.260032	test-error:0.302239
[12]	train-error:0.260032	test-error:0.302239
[13]	train-error:0.247191	test-error:0.298507
[14]	train-error:0.247191	test-error:0.298507
[15]	train-error:0.248796	test-error:0.302239
[16]	train-error:0.248796	test-error:0.302239
[17]	train-error:0.248796	test-error:0.302239
[18]	train-error:0.248796	test-error:0.302239
[19]	train-error:0.248796	test-error:0.302239
[20]	train-error:0.248796	test-error:0.302239
[21]	train-error:0.248796	test-error:0.302239
[22]	train-error:0.248796	test-error:0.302239
[23]	train-error:0.248796	test-error:0.302239
[24]	train-error:0.248796	test-error:0.302239
[25]	train-error:0.248796	test-error:0.302239
[26]	train-error:0.248796	test-error:0.302239
[27]	train-error:0.248796	test-error:0.302239
[28]	train-error:0.247191	test-error:0.302239
[29]	train-error:0.247191	test-error:0.302239
[30]	train-error:0.247191	test-error:0.302239
[31]	train-error:0.243981	test-error:0.298507
[32]	train-error:0.247191	test-error:0.302239
[33]	train-error:0.243981	test-error:0.298507
[34]	train-error:0.243981	test-error:0.298507
[35]	train-error:0.242376	test-error:0.294776
[36]	train-error:0.24077	test-error:0.294776
[37]	train-error:0.24077	test-error:0.294776
[38]	train-error:0.24077	test-error:0.294776
[39]	train-error:0.24077	test-error:0.294776
[40]	train-error:0.24077	test-error:0.294776
[41]	train-error:0.24077	test-error:0.294776
[42]	train-error:0.24077	test-error:0.294776
[43]	train-error:0.24077	test-error:0.294776
[44]	train-error:0.24077	test-error:0.302239
[45]	train-error:0.24077	test-error:0.302239
[46]	train-error:0.24077	test-error:0.302239
[47]	train-error:0.24077	test-error:0.302239
[48]	train-error:0.24077	test-error:0.302239
[49]	train-error:0.24077	test-error:0.302239
[50]	train-error:0.24077	test-error:0.302239
[51]	train-error:0.24077	test-error:0.302239
[52]	train-error:0.23435	test-error:0.302239
[53]	train-error:0.23435	test-error:0.302239
[54]	train-error:0.232745	test-error:0.298507
[55]	train-error:0.229535	test-error:0.298507
[56]	train-error:0.229535	test-error:0.298507
[57]	train-error:0.229535	test-error:0.298507
[58]	train-error:0.229535	test-error:0.298507
[59]	train-error:0.227929	test-error:0.294776
[60]	train-error:0.227929	test-error:0.298507
[61]	train-error:0.227929	test-error:0.298507
[62]	train-error:0.227929	test-error:0.298507
[63]	train-error:0.227929	test-error:0.298507
[64]	train-error:0.227929	test-error:0.298507
[65]	train-error:0.227929	test-error:0.298507
[66]	train-error:0.227929	test-error:0.298507
[67]	train-error:0.227929	test-error:0.298507
[68]	train-error:0.227929	test-error:0.298507
[69]	train-error:0.227929	test-error:0.298507
[70]	train-error:0.227929	test-error:0.298507
[71]	train-error:0.227929	test-error:0.298507
[72]	train-error:0.227929	test-error:0.302239
[73]	train-error:0.227929	test-error:0.302239
[74]	train-error:0.229535	test-error:0.30597
[75]	train-error:0.229535	test-error:0.30597
[76]	train-error:0.229535	test-error:0.30597
[77]	train-error:0.229535	test-error:0.30597
[78]	train-error:0.229535	test-error:0.30597
[79]	train-error:0.229535	test-error:0.30597
[80]	train-error:0.229535	test-error:0.30597
[81]	train-error:0.229535	test-error:0.30597
[82]	train-error:0.229535	test-error:0.30597
[83]	train-error:0.229535	test-error:0.30597
[84]	train-error:0.229535	test-error:0.30597
[85]	train-error:0.229535	test-error:0.30597
[86]	train-error:0.229535	test-error:0.30597
[87]	train-error:0.229535	test-error:0.30597
[88]	train-error:0.229535	test-error:0.30597
[89]	train-error:0.229535	test-error:0.30597
[90]	train-error:0.229535	test-error:0.30597
[91]	train-error:0.229535	test-error:0.30597
[92]	train-error:0.229535	test-error:0.30597
[93]	train-error:0.229535	test-error:0.30597
[94]	train-error:0.227929	test-error:0.313433
[95]	train-error:0.226324	test-error:0.313433
[96]	train-error:0.223114	test-error:0.317164
[97]	train-error:0.223114	test-error:0.317164
[98]	train-error:0.223114	test-error:0.317164
[99]	train-error:0.223114	test-error:0.317164
[100]	train-error:0.223114	test-error:0.317164
[101]	train-error:0.223114	test-error:0.317164
[102]	train-error:0.223114	test-error:0.317164
[103]	train-error:0.223114	test-error:0.317164
[104]	train-error:0.223114	test-error:0.317164
[105]	train-error:0.223114	test-error:0.317164
[106]	train-error:0.223114	test-error:0.317164
[107]	train-error:0.223114	test-error:0.317164
[108]	train-error:0.223114	test-error:0.317164
[109]	train-error:0.223114	test-error:0.317164
[110]	train-error:0.223114	test-error:0.317164
[111]	train-error:0.223114	test-error:0.317164
[112]	train-error:0.223114	test-error:0.317164
[113]	train-error:0.223114	test-error:0.317164
[114]	train-error:0.223114	test-error:0.317164
[115]	train-error:0.223114	test-error:0.317164
[116]	train-error:0.223114	test-error:0.317164
[117]	train-error:0.223114	test-error:0.317164
[118]	train-error:0.223114	test-error:0.317164
[119]	train-error:0.223114	test-error:0.317164
[120]	train-error:0.223114	test-error:0.317164
[121]	train-error:0.223114	test-error:0.317164
[122]	train-error:0.223114	test-error:0.317164
[123]	train-error:0.223114	test-error:0.317164
[124]	train-error:0.224719	test-error:0.317164
[125]	train-error:0.224719	test-error:0.317164
[126]	train-error:0.224719	test-error:0.317164
[127]	train-error:0.221509	test-error:0.317164
[128]	train-error:0.223114	test-error:0.317164
[129]	train-error:0.219904	test-error:0.313433
[130]	train-error:0.215088	test-error:0.313433
[131]	train-error:0.215088	test-error:0.313433
[132]	train-error:0.215088	test-error:0.313433
[133]	train-error:0.215088	test-error:0.313433
[134]	train-error:0.215088	test-error:0.313433
[135]	train-error:0.215088	test-error:0.313433
Stopping. Best iteration:
[35]	train-error:0.242376	test-error:0.294776
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 평가</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line">pred_probs = xgb_ml.predict(dtest)</span><br><span class="line">y_pred = [<span class="number">1</span> <span class="keyword">if</span> x&gt; <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> pred_probs]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예측 라벨과 실제 라벨 사이의 정확도 측정</span></span><br><span class="line">accuracy_score(y_pred, y_test)</span><br></pre></td></tr></table></figure>




<pre><code>0.6865671641791045
</code></pre>
<h3 id="Scikit-Learn-API방식"><a href="#Scikit-Learn-API방식" class="headerlink" title="Scikit-Learn API방식"></a>Scikit-Learn API방식</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> xgboost <span class="keyword">import</span> XGBClassifier <span class="comment"># API </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dt = DecisionTreeClassifier()</span></span><br><span class="line">xgb_model = XGBClassifier(objective = <span class="string">&#x27;binary:logistic&#x27;</span>, </span><br><span class="line">                          n_estimators=<span class="number">100</span>, </span><br><span class="line">                          max_depth=<span class="number">3</span>, </span><br><span class="line">                          learning_rate = <span class="number">0.1</span>, </span><br><span class="line">                          num_rounds = <span class="number">400</span>,</span><br><span class="line">                          random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">w_list = [(X_train, y_train), (X_test, y_test)]</span><br><span class="line"></span><br><span class="line">xgb_model.fit(X_train, y_train, eval_set = w_list, eval_metric=<span class="string">&#x27;error&#x27;</span>, verbose=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">y_probas = xgb_model.predict_proba(X_test)</span><br><span class="line">y_pred = [<span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> pred_probs]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예측 라벨과 실제 라벨 사이의 정확도 측정</span></span><br><span class="line">accuracy_score(y_pred, y_test)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>[0]	validation_0-error:0.260032	validation_1-error:0.302239
[1]	validation_0-error:0.260032	validation_1-error:0.302239
[2]	validation_0-error:0.260032	validation_1-error:0.302239
[3]	validation_0-error:0.260032	validation_1-error:0.302239
[4]	validation_0-error:0.260032	validation_1-error:0.302239
[5]	validation_0-error:0.260032	validation_1-error:0.302239
[6]	validation_0-error:0.260032	validation_1-error:0.302239
[7]	validation_0-error:0.260032	validation_1-error:0.302239
[8]	validation_0-error:0.260032	validation_1-error:0.302239
[9]	validation_0-error:0.260032	validation_1-error:0.302239
[10]	validation_0-error:0.260032	validation_1-error:0.302239
[11]	validation_0-error:0.260032	validation_1-error:0.302239
[12]	validation_0-error:0.260032	validation_1-error:0.302239
[13]	validation_0-error:0.247191	validation_1-error:0.298507
[14]	validation_0-error:0.247191	validation_1-error:0.298507
[15]	validation_0-error:0.248796	validation_1-error:0.302239
[16]	validation_0-error:0.248796	validation_1-error:0.302239
[17]	validation_0-error:0.248796	validation_1-error:0.302239
[18]	validation_0-error:0.248796	validation_1-error:0.302239
[19]	validation_0-error:0.248796	validation_1-error:0.302239
[20]	validation_0-error:0.248796	validation_1-error:0.302239
[21]	validation_0-error:0.248796	validation_1-error:0.302239
[22]	validation_0-error:0.248796	validation_1-error:0.302239
[23]	validation_0-error:0.248796	validation_1-error:0.302239
[24]	validation_0-error:0.248796	validation_1-error:0.302239
[25]	validation_0-error:0.248796	validation_1-error:0.302239
[26]	validation_0-error:0.248796	validation_1-error:0.302239
[27]	validation_0-error:0.248796	validation_1-error:0.302239
[28]	validation_0-error:0.247191	validation_1-error:0.302239
[29]	validation_0-error:0.247191	validation_1-error:0.302239
[30]	validation_0-error:0.247191	validation_1-error:0.302239
[31]	validation_0-error:0.243981	validation_1-error:0.298507
[32]	validation_0-error:0.247191	validation_1-error:0.302239
[33]	validation_0-error:0.243981	validation_1-error:0.298507
[34]	validation_0-error:0.243981	validation_1-error:0.298507
[35]	validation_0-error:0.242376	validation_1-error:0.294776
[36]	validation_0-error:0.24077	validation_1-error:0.294776
[37]	validation_0-error:0.24077	validation_1-error:0.294776
[38]	validation_0-error:0.24077	validation_1-error:0.294776
[39]	validation_0-error:0.24077	validation_1-error:0.294776
[40]	validation_0-error:0.24077	validation_1-error:0.294776
[41]	validation_0-error:0.24077	validation_1-error:0.294776
[42]	validation_0-error:0.24077	validation_1-error:0.294776
[43]	validation_0-error:0.24077	validation_1-error:0.294776
[44]	validation_0-error:0.24077	validation_1-error:0.302239
[45]	validation_0-error:0.24077	validation_1-error:0.302239
[46]	validation_0-error:0.24077	validation_1-error:0.302239
[47]	validation_0-error:0.24077	validation_1-error:0.302239
[48]	validation_0-error:0.24077	validation_1-error:0.302239
[49]	validation_0-error:0.24077	validation_1-error:0.302239
[50]	validation_0-error:0.24077	validation_1-error:0.302239
[51]	validation_0-error:0.24077	validation_1-error:0.302239
[52]	validation_0-error:0.23435	validation_1-error:0.302239
[53]	validation_0-error:0.23435	validation_1-error:0.302239
[54]	validation_0-error:0.232745	validation_1-error:0.298507
[55]	validation_0-error:0.229535	validation_1-error:0.298507
[56]	validation_0-error:0.229535	validation_1-error:0.298507
[57]	validation_0-error:0.229535	validation_1-error:0.298507
[58]	validation_0-error:0.229535	validation_1-error:0.298507
[59]	validation_0-error:0.227929	validation_1-error:0.294776
[60]	validation_0-error:0.227929	validation_1-error:0.298507
[61]	validation_0-error:0.227929	validation_1-error:0.298507
[62]	validation_0-error:0.227929	validation_1-error:0.298507
[63]	validation_0-error:0.227929	validation_1-error:0.298507
[64]	validation_0-error:0.227929	validation_1-error:0.298507
[65]	validation_0-error:0.227929	validation_1-error:0.298507
[66]	validation_0-error:0.227929	validation_1-error:0.298507
[67]	validation_0-error:0.227929	validation_1-error:0.298507
[68]	validation_0-error:0.227929	validation_1-error:0.298507
[69]	validation_0-error:0.227929	validation_1-error:0.298507
[70]	validation_0-error:0.227929	validation_1-error:0.298507
[71]	validation_0-error:0.227929	validation_1-error:0.298507
[72]	validation_0-error:0.227929	validation_1-error:0.302239
[73]	validation_0-error:0.227929	validation_1-error:0.302239
[74]	validation_0-error:0.229535	validation_1-error:0.30597
[75]	validation_0-error:0.229535	validation_1-error:0.30597
[76]	validation_0-error:0.229535	validation_1-error:0.30597
[77]	validation_0-error:0.229535	validation_1-error:0.30597
[78]	validation_0-error:0.229535	validation_1-error:0.30597
[79]	validation_0-error:0.229535	validation_1-error:0.30597
[80]	validation_0-error:0.229535	validation_1-error:0.30597
[81]	validation_0-error:0.229535	validation_1-error:0.30597
[82]	validation_0-error:0.229535	validation_1-error:0.30597
[83]	validation_0-error:0.229535	validation_1-error:0.30597
[84]	validation_0-error:0.229535	validation_1-error:0.30597
[85]	validation_0-error:0.229535	validation_1-error:0.30597
[86]	validation_0-error:0.229535	validation_1-error:0.30597
[87]	validation_0-error:0.229535	validation_1-error:0.30597
[88]	validation_0-error:0.229535	validation_1-error:0.30597
[89]	validation_0-error:0.229535	validation_1-error:0.30597
[90]	validation_0-error:0.229535	validation_1-error:0.30597
[91]	validation_0-error:0.229535	validation_1-error:0.30597
[92]	validation_0-error:0.229535	validation_1-error:0.30597
[93]	validation_0-error:0.229535	validation_1-error:0.30597
[94]	validation_0-error:0.227929	validation_1-error:0.313433
[95]	validation_0-error:0.226324	validation_1-error:0.313433
[96]	validation_0-error:0.223114	validation_1-error:0.317164
[97]	validation_0-error:0.223114	validation_1-error:0.317164
[98]	validation_0-error:0.223114	validation_1-error:0.317164
[99]	validation_0-error:0.223114	validation_1-error:0.317164





0.6865671641791045
</code></pre>
<ul>
<li>p275 &#x3D; Scikit-Learn API방식</li>
<li>Scikit-Learn API방식, python Wrapper 방식 비교하기</li>
</ul>
<h1 id="lightGBM-Python-Wrapper-방식-amp-LightGBM-Scikit-Learn-API방식"><a href="#lightGBM-Python-Wrapper-방식-amp-LightGBM-Scikit-Learn-API방식" class="headerlink" title="lightGBM Python Wrapper 방식 &amp; LightGBM Scikit-Learn API방식"></a>lightGBM Python Wrapper 방식 &amp; LightGBM Scikit-Learn API방식</h1><h2 id="lightGBM-Python-Wrapper-방식"><a href="#lightGBM-Python-Wrapper-방식" class="headerlink" title="lightGBM Python Wrapper 방식"></a>lightGBM Python Wrapper 방식</h2><p>참고 <a target="_blank" rel="noopener" href="https://lightgbm.readthedocs.io/en/latest/Parameters.html">https://lightgbm.readthedocs.io/en/latest/Parameters.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb </span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split </span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line"></span><br><span class="line"><span class="comment"># tips 데이터셋 </span></span><br><span class="line">titanic = sns.load_dataset(<span class="string">&#x27;titanic&#x27;</span>)</span><br><span class="line"></span><br><span class="line">X = titanic[[<span class="string">&#x27;pclass&#x27;</span>, <span class="string">&#x27;parch&#x27;</span>, <span class="string">&#x27;fare&#x27;</span>]]</span><br><span class="line">y = titanic[<span class="string">&#x27;survived&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 훈련데이터, 테스트 데이터 분리</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, stratify = y, test_size = <span class="number">0.3</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># XGBoost 코드와 유사하다. </span></span><br><span class="line">dtrain = lgb.Dataset(data = X_train, label = y_train)</span><br><span class="line">dtest = lgb.Dataset(data = X_test, label = y_test)</span><br><span class="line"></span><br><span class="line">params = &#123;<span class="string">&#x27;max_depth&#x27;</span>:<span class="number">3</span>,</span><br><span class="line">          <span class="string">&#x27;n_estimators&#x27;</span>:<span class="number">100</span>,</span><br><span class="line">          <span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.1</span>,</span><br><span class="line">          <span class="string">&#x27;objective&#x27;</span>:<span class="string">&#x27;binary&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;metric&#x27;</span> : <span class="string">&#x27;binary_error&#x27;</span>, </span><br><span class="line">          <span class="string">&#x27;num_boost_round&#x27;</span> : <span class="number">400</span>, </span><br><span class="line">          <span class="string">&#x27;verbose&#x27;</span> : <span class="number">1</span>&#125; </span><br><span class="line"></span><br><span class="line">w_list = [dtrain, dtest]</span><br><span class="line">lgb_ml = lgb.train(params=params, train_set = dtrain,\</span><br><span class="line">                  early_stopping_rounds=<span class="number">100</span>, valid_sets= w_list)</span><br><span class="line"></span><br><span class="line">pred_probs = lgb_ml.predict(X_test)</span><br><span class="line">y_pred=[<span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> pred_probs]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예측 라벨과 실제 라벨 사이의 정확도 측정</span></span><br><span class="line">accuracy_score(y_pred, y_test)</span><br></pre></td></tr></table></figure>

<pre><code>/usr/local/lib/python3.7/dist-packages/lightgbm/engine.py:118: UserWarning: Found `num_boost_round` in params. Will use it instead of argument
  warnings.warn(&quot;Found `&#123;&#125;` in params. Will use it instead of argument&quot;.format(alias))


[1]	training&#39;s binary_error: 0.383628	valid_1&#39;s binary_error: 0.384328
Training until validation scores don&#39;t improve for 100 rounds.
[2]	training&#39;s binary_error: 0.383628	valid_1&#39;s binary_error: 0.384328
[3]	training&#39;s binary_error: 0.354735	valid_1&#39;s binary_error: 0.369403
[4]	training&#39;s binary_error: 0.29695	valid_1&#39;s binary_error: 0.354478
[5]	training&#39;s binary_error: 0.272873	valid_1&#39;s binary_error: 0.33209
[6]	training&#39;s binary_error: 0.272873	valid_1&#39;s binary_error: 0.33209
[7]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.317164
[8]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.317164
[9]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[10]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.309701
[11]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[12]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[13]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[14]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[15]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[16]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[17]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[18]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[19]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[20]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[21]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[22]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[23]	training&#39;s binary_error: 0.271268	valid_1&#39;s binary_error: 0.313433
[24]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[25]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[26]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[27]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[28]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[29]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[30]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[31]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[32]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[33]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[34]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[35]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[36]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[37]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[38]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[39]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.309701
[40]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[41]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[42]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[43]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[44]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[45]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[46]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[47]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[48]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[49]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[50]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[51]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[52]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[53]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[54]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[55]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[56]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[57]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[58]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[59]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[60]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[61]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[62]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[63]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[64]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[65]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[66]	training&#39;s binary_error: 0.243981	valid_1&#39;s binary_error: 0.309701
[67]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[68]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[69]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[70]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[71]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[72]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[73]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[74]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[75]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[76]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[77]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[78]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[79]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[80]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[81]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[82]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[83]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[84]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[85]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[86]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[87]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[88]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[89]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[90]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[91]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[92]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[93]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[94]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[95]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[96]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[97]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[98]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[99]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[100]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[101]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597
[102]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597
[103]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[104]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[105]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[106]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.313433
[107]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[108]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[109]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[110]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[111]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[112]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[113]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[114]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[115]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[116]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[117]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[118]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[119]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[120]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[121]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[122]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[123]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[124]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[125]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[126]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[127]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[128]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[129]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[130]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[131]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[132]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[133]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[134]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[135]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[136]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[137]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.309701
[138]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.309701
[139]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[140]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[141]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[142]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[143]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[144]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.320896
[145]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[146]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[147]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[148]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[149]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[150]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[151]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[152]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[153]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[154]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[155]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[156]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[157]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[158]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[159]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[160]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[161]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[162]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[163]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[164]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[165]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[166]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[167]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[168]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[169]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[170]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[171]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[172]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[173]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[174]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[175]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[176]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[177]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[178]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[179]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[180]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[181]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[182]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[183]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[184]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[185]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[186]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[187]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[188]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[189]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[190]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[191]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[192]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[193]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[194]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[195]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[196]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[197]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[198]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[199]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[200]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[201]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
Early stopping, best iteration is:
[101]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597





0.6940298507462687
</code></pre>
<h2 id="LightGBM-Scikit-Learn-API방식"><a href="#LightGBM-Scikit-Learn-API방식" class="headerlink" title="LightGBM Scikit-Learn API방식"></a>LightGBM Scikit-Learn API방식</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lightgbm <span class="keyword">import</span> LGBMClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># model </span></span><br><span class="line">w_list = [dtrain, dtest]</span><br><span class="line">model = LGBMClassifier(objective = <span class="string">&#x27;binary&#x27;</span>, </span><br><span class="line">                       metric = <span class="string">&#x27;binary_error&#x27;</span>,</span><br><span class="line">                       n_estimators=<span class="number">100</span>, </span><br><span class="line">                       learning_rate=<span class="number">0.1</span>, </span><br><span class="line">                       max_depth=<span class="number">3</span>, </span><br><span class="line">                       num_boost_round = <span class="number">400</span>,</span><br><span class="line">                       random_state = <span class="number">32</span>)</span><br><span class="line">model.fit(X_train, </span><br><span class="line">          y_train, </span><br><span class="line">          eval_set = [(X_train, y_train), (X_test, y_test)], </span><br><span class="line">          verbose=<span class="number">1</span>,</span><br><span class="line">          early_stopping_rounds = <span class="number">100</span>)</span><br><span class="line">y_probas = model.predict_proba(X_test) </span><br><span class="line">y_pred=[<span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> y_probas[:, <span class="number">1</span>]] <span class="comment"># 예측 라벨(0과 1로 예측)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 예측 라벨과 실제 라벨 사이의 정확도 측정</span></span><br><span class="line">accuracy_score(y_pred, y_test)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>/usr/local/lib/python3.7/dist-packages/lightgbm/engine.py:118: UserWarning: Found `num_boost_round` in params. Will use it instead of argument
  warnings.warn(&quot;Found `&#123;&#125;` in params. Will use it instead of argument&quot;.format(alias))


[1]	training&#39;s binary_error: 0.383628	valid_1&#39;s binary_error: 0.384328
Training until validation scores don&#39;t improve for 100 rounds.
[2]	training&#39;s binary_error: 0.383628	valid_1&#39;s binary_error: 0.384328
[3]	training&#39;s binary_error: 0.354735	valid_1&#39;s binary_error: 0.369403
[4]	training&#39;s binary_error: 0.29695	valid_1&#39;s binary_error: 0.354478
[5]	training&#39;s binary_error: 0.272873	valid_1&#39;s binary_error: 0.33209
[6]	training&#39;s binary_error: 0.272873	valid_1&#39;s binary_error: 0.33209
[7]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.317164
[8]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.317164
[9]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[10]	training&#39;s binary_error: 0.269663	valid_1&#39;s binary_error: 0.309701
[11]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[12]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[13]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[14]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[15]	training&#39;s binary_error: 0.264848	valid_1&#39;s binary_error: 0.309701
[16]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[17]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[18]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[19]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[20]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[21]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[22]	training&#39;s binary_error: 0.266453	valid_1&#39;s binary_error: 0.313433
[23]	training&#39;s binary_error: 0.271268	valid_1&#39;s binary_error: 0.313433
[24]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[25]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[26]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[27]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[28]	training&#39;s binary_error: 0.258427	valid_1&#39;s binary_error: 0.309701
[29]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[30]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[31]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[32]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[33]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[34]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[35]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[36]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.309701
[37]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[38]	training&#39;s binary_error: 0.255217	valid_1&#39;s binary_error: 0.317164
[39]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.309701
[40]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[41]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[42]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[43]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[44]	training&#39;s binary_error: 0.248796	valid_1&#39;s binary_error: 0.313433
[45]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[46]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[47]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[48]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[49]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[50]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[51]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[52]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[53]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[54]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[55]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[56]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[57]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[58]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[59]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[60]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[61]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[62]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[63]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[64]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[65]	training&#39;s binary_error: 0.247191	valid_1&#39;s binary_error: 0.313433
[66]	training&#39;s binary_error: 0.243981	valid_1&#39;s binary_error: 0.309701
[67]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[68]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[69]	training&#39;s binary_error: 0.23435	valid_1&#39;s binary_error: 0.309701
[70]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[71]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[72]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[73]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[74]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[75]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[76]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[77]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[78]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[79]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[80]	training&#39;s binary_error: 0.232745	valid_1&#39;s binary_error: 0.313433
[81]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[82]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[83]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[84]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[85]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[86]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[87]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[88]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[89]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[90]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[91]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[92]	training&#39;s binary_error: 0.229535	valid_1&#39;s binary_error: 0.309701
[93]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[94]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[95]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[96]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[97]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[98]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[99]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[100]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[101]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597
[102]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597
[103]	training&#39;s binary_error: 0.227929	valid_1&#39;s binary_error: 0.309701
[104]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[105]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.317164
[106]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.313433
[107]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[108]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[109]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[110]	training&#39;s binary_error: 0.224719	valid_1&#39;s binary_error: 0.317164
[111]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[112]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[113]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[114]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[115]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[116]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[117]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[118]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[119]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[120]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[121]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[122]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[123]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[124]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[125]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[126]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[127]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[128]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[129]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[130]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[131]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[132]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[133]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[134]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[135]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[136]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[137]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.309701
[138]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.309701
[139]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[140]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[141]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[142]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[143]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.309701
[144]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.320896
[145]	training&#39;s binary_error: 0.223114	valid_1&#39;s binary_error: 0.313433
[146]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[147]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[148]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[149]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[150]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[151]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[152]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.313433
[153]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[154]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[155]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[156]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[157]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[158]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[159]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[160]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[161]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[162]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[163]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[164]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[165]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[166]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[167]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[168]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[169]	training&#39;s binary_error: 0.219904	valid_1&#39;s binary_error: 0.324627
[170]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[171]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[172]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[173]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[174]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[175]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[176]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[177]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[178]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[179]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[180]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[181]	training&#39;s binary_error: 0.221509	valid_1&#39;s binary_error: 0.328358
[182]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[183]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[184]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[185]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[186]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[187]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[188]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[189]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[190]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[191]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[192]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[193]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[194]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[195]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[196]	training&#39;s binary_error: 0.216693	valid_1&#39;s binary_error: 0.320896
[197]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[198]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[199]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[200]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
[201]	training&#39;s binary_error: 0.215088	valid_1&#39;s binary_error: 0.317164
Early stopping, best iteration is:
[101]	training&#39;s binary_error: 0.23114	valid_1&#39;s binary_error: 0.30597





0.6940298507462687
</code></pre>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">Previous</a></div><div class="pagination-next"><a href="/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">32</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-08-02T00:00:00.000Z">2022-08-02</time></p><p class="title"><a href="/2022/08/02/220802_HTML_CSS/">220802_HTML_CSS</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-08-01T00:00:00.000Z">2022-08-01</time></p><p class="title"><a href="/2022/08/01/220801_heroku/">220801_heroku</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-29T00:00:00.000Z">2022-07-29</time></p><p class="title"><a href="/2022/07/29/0729_spark/">220729 스파크를 이용한 데이터공학</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-28T00:00:00.000Z">2022-07-28</time></p><p class="title"><a href="/2022/07/28/0728_Apache%20Airflow/">0728 Apache Airflow</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-27T00:00:00.000Z">2022-07-27</time></p><p class="title"><a href="/2022/07/27/220727%20WSL(ubuntu)/">WSL(ubuntu)셋팅</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="내 블로그" height="28"></a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>